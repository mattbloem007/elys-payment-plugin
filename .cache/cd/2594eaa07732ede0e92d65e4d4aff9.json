{"id":"LNEr","dependencies":[{"name":"/Users/gabriel/Documents/paymentelys/package.json","includedInParent":true,"mtime":1631654689386},{"name":"/Users/gabriel/Documents/paymentelys/node_modules/@ethersproject/transactions/package.json","includedInParent":true,"mtime":1629877547954},{"name":"@ethersproject/address","loc":{"line":2,"column":27},"parent":"/Users/gabriel/Documents/paymentelys/node_modules/@ethersproject/transactions/lib.esm/index.js","resolved":"/Users/gabriel/Documents/paymentelys/node_modules/@ethersproject/address/lib.esm/index.js"},{"name":"@ethersproject/bignumber","loc":{"line":3,"column":26},"parent":"/Users/gabriel/Documents/paymentelys/node_modules/@ethersproject/transactions/lib.esm/index.js","resolved":"/Users/gabriel/Documents/paymentelys/node_modules/@ethersproject/bignumber/lib.esm/index.js"},{"name":"@ethersproject/bytes","loc":{"line":4,"column":128},"parent":"/Users/gabriel/Documents/paymentelys/node_modules/@ethersproject/transactions/lib.esm/index.js","resolved":"/Users/gabriel/Documents/paymentelys/node_modules/@ethersproject/bytes/lib.esm/index.js"},{"name":"@ethersproject/constants","loc":{"line":5,"column":21},"parent":"/Users/gabriel/Documents/paymentelys/node_modules/@ethersproject/transactions/lib.esm/index.js","resolved":"/Users/gabriel/Documents/paymentelys/node_modules/@ethersproject/constants/lib.esm/index.js"},{"name":"@ethersproject/keccak256","loc":{"line":6,"column":26},"parent":"/Users/gabriel/Documents/paymentelys/node_modules/@ethersproject/transactions/lib.esm/index.js","resolved":"/Users/gabriel/Documents/paymentelys/node_modules/@ethersproject/keccak256/lib.esm/index.js"},{"name":"@ethersproject/properties","loc":{"line":7,"column":32},"parent":"/Users/gabriel/Documents/paymentelys/node_modules/@ethersproject/transactions/lib.esm/index.js","resolved":"/Users/gabriel/Documents/paymentelys/node_modules/@ethersproject/properties/lib.esm/index.js"},{"name":"@ethersproject/rlp","loc":{"line":8,"column":21},"parent":"/Users/gabriel/Documents/paymentelys/node_modules/@ethersproject/transactions/lib.esm/index.js","resolved":"/Users/gabriel/Documents/paymentelys/node_modules/@ethersproject/rlp/lib.esm/index.js"},{"name":"@ethersproject/signing-key","loc":{"line":9,"column":51},"parent":"/Users/gabriel/Documents/paymentelys/node_modules/@ethersproject/transactions/lib.esm/index.js","resolved":"/Users/gabriel/Documents/paymentelys/node_modules/@ethersproject/signing-key/lib.esm/index.js"},{"name":"@ethersproject/logger","loc":{"line":10,"column":23},"parent":"/Users/gabriel/Documents/paymentelys/node_modules/@ethersproject/transactions/lib.esm/index.js","resolved":"/Users/gabriel/Documents/paymentelys/node_modules/@ethersproject/logger/lib.esm/index.js"},{"name":"./_version","loc":{"line":11,"column":24},"parent":"/Users/gabriel/Documents/paymentelys/node_modules/@ethersproject/transactions/lib.esm/index.js","resolved":"/Users/gabriel/Documents/paymentelys/node_modules/@ethersproject/transactions/lib.esm/_version.js"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.computeAddress=x,exports.recoverAddress=v,exports.accessListify=w,exports.serialize=k,exports.parse=Z,exports.TransactionTypes=void 0;var e=require(\"@ethersproject/address\"),r=require(\"@ethersproject/bignumber\"),t=require(\"@ethersproject/bytes\"),n=require(\"@ethersproject/constants\"),a=require(\"@ethersproject/keccak256\"),o=require(\"@ethersproject/properties\"),s=l(require(\"@ethersproject/rlp\")),i=require(\"@ethersproject/signing-key\"),c=require(\"@ethersproject/logger\"),u=require(\"./_version\");function h(e){if(\"function\"!=typeof WeakMap)return null;var r=new WeakMap,t=new WeakMap;return(h=function(e){return e?t:r})(e)}function l(e,r){if(!r&&e&&e.__esModule)return e;if(null===e||\"object\"!=typeof e&&\"function\"!=typeof e)return{default:e};var t=h(r);if(t&&t.has(e))return t.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(\"default\"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=a?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(n,o,s):n[o]=e[o]}return n.default=e,t&&t.set(e,n),n}const p=new c.Logger(u.version);var g;function m(r){return\"0x\"===r?null:(0,e.getAddress)(r)}function d(e){return\"0x\"===e?n.Zero:r.BigNumber.from(e)}exports.TransactionTypes=g,function(e){e[e.legacy=0]=\"legacy\",e[e.eip2930=1]=\"eip2930\",e[e.eip1559=2]=\"eip1559\"}(g||(exports.TransactionTypes=g={}));const y=[{name:\"nonce\",maxLength:32,numeric:!0},{name:\"gasPrice\",maxLength:32,numeric:!0},{name:\"gasLimit\",maxLength:32,numeric:!0},{name:\"to\",length:20},{name:\"value\",maxLength:32,numeric:!0},{name:\"data\"}],f={chainId:!0,data:!0,gasLimit:!0,gasPrice:!0,nonce:!0,to:!0,type:!0,value:!0};function x(r){const n=(0,i.computePublicKey)(r);return(0,e.getAddress)((0,t.hexDataSlice)((0,a.keccak256)((0,t.hexDataSlice)(n,1)),12))}function v(e,r){return x((0,i.recoverPublicKey)((0,t.arrayify)(e),r))}function P(e,n){const a=(0,t.stripZeros)(r.BigNumber.from(e).toHexString());return a.length>32&&p.throwArgumentError(\"invalid length for \"+n,\"transaction:\"+n,e),a}function b(r,n){return{address:(0,e.getAddress)(r),storageKeys:(n||[]).map((e,n)=>(32!==(0,t.hexDataLength)(e)&&p.throwArgumentError(\"invalid access list storageKey\",`accessList[${r}:${n}]`,e),e.toLowerCase()))}}function w(e){if(Array.isArray(e))return e.map((e,r)=>Array.isArray(e)?(e.length>2&&p.throwArgumentError(\"access list expected to be [ address, storageKeys[] ]\",`value[${r}]`,e),b(e[0],e[1])):b(e.address,e.storageKeys));const r=Object.keys(e).map(r=>{const t=e[r].reduce((e,r)=>(e[r]=!0,e),{});return b(r,Object.keys(t).sort())});return r.sort((e,r)=>e.address.localeCompare(r.address)),r}function L(e){return w(e).map(e=>[e.address,e.storageKeys])}function A(n,a){if(null!=n.gasPrice){const e=r.BigNumber.from(n.gasPrice),t=r.BigNumber.from(n.maxFeePerGas||0);e.eq(t)||p.throwArgumentError(\"mismatch EIP-1559 gasPrice != maxFeePerGas\",\"tx\",{gasPrice:e,maxFeePerGas:t})}const o=[P(n.chainId||0,\"chainId\"),P(n.nonce||0,\"nonce\"),P(n.maxPriorityFeePerGas||0,\"maxPriorityFeePerGas\"),P(n.maxFeePerGas||0,\"maxFeePerGas\"),P(n.gasLimit||0,\"gasLimit\"),null!=n.to?(0,e.getAddress)(n.to):\"0x\",P(n.value||0,\"value\"),n.data||\"0x\",L(n.accessList||[])];if(a){const e=(0,t.splitSignature)(a);o.push(P(e.recoveryParam,\"recoveryParam\")),o.push((0,t.stripZeros)(e.r)),o.push((0,t.stripZeros)(e.s))}return(0,t.hexConcat)([\"0x02\",s.encode(o)])}function E(r,n){const a=[P(r.chainId||0,\"chainId\"),P(r.nonce||0,\"nonce\"),P(r.gasPrice||0,\"gasPrice\"),P(r.gasLimit||0,\"gasLimit\"),null!=r.to?(0,e.getAddress)(r.to):\"0x\",P(r.value||0,\"value\"),r.data||\"0x\",L(r.accessList||[])];if(n){const e=(0,t.splitSignature)(n);a.push(P(e.recoveryParam,\"recoveryParam\")),a.push((0,t.stripZeros)(e.r)),a.push((0,t.stripZeros)(e.s))}return(0,t.hexConcat)([\"0x01\",s.encode(a)])}function I(e,r){(0,o.checkProperties)(e,f);const n=[];y.forEach(function(r){let a=e[r.name]||[];const o={};r.numeric&&(o.hexPad=\"left\"),a=(0,t.arrayify)((0,t.hexlify)(a,o)),r.length&&a.length!==r.length&&a.length>0&&p.throwArgumentError(\"invalid length for \"+r.name,\"transaction:\"+r.name,a),r.maxLength&&(a=(0,t.stripZeros)(a)).length>r.maxLength&&p.throwArgumentError(\"invalid length for \"+r.name,\"transaction:\"+r.name,a),n.push((0,t.hexlify)(a))});let a=0;if(null!=e.chainId?\"number\"!=typeof(a=e.chainId)&&p.throwArgumentError(\"invalid transaction.chainId\",\"transaction\",e):r&&!(0,t.isBytesLike)(r)&&r.v>28&&(a=Math.floor((r.v-35)/2)),0!==a&&(n.push((0,t.hexlify)(a)),n.push(\"0x\"),n.push(\"0x\")),!r)return s.encode(n);const i=(0,t.splitSignature)(r);let c=27+i.recoveryParam;return 0!==a?(n.pop(),n.pop(),n.pop(),c+=2*a+8,i.v>28&&i.v!==c&&p.throwArgumentError(\"transaction.chainId/signature.v mismatch\",\"signature\",r)):i.v!==c&&p.throwArgumentError(\"transaction.chainId/signature.v mismatch\",\"signature\",r),n.push((0,t.hexlify)(c)),n.push((0,t.stripZeros)((0,t.arrayify)(i.r))),n.push((0,t.stripZeros)((0,t.arrayify)(i.s))),s.encode(n)}function k(e,r){if(null==e.type||0===e.type)return null!=e.accessList&&p.throwArgumentError(\"untyped transactions do not support accessList; include type: 1\",\"transaction\",e),I(e,r);switch(e.type){case 1:return E(e,r);case 2:return A(e,r)}return p.throwError(`unsupported transaction type: ${e.type}`,c.Logger.errors.UNSUPPORTED_OPERATION,{operation:\"serializeTransaction\",transactionType:e.type})}function j(e,r,n){try{const t=d(r[0]).toNumber();if(0!==t&&1!==t)throw new Error(\"bad recid\");e.v=t}catch(o){p.throwArgumentError(\"invalid v for transaction type: 1\",\"v\",r[0])}e.r=(0,t.hexZeroPad)(r[1],32),e.s=(0,t.hexZeroPad)(r[2],32);try{const r=(0,a.keccak256)(n(e));e.from=v(r,{r:e.r,s:e.s,recoveryParam:e.v})}catch(o){console.log(o)}}function N(e){const r=s.decode(e.slice(1));9!==r.length&&12!==r.length&&p.throwArgumentError(\"invalid component count for transaction type: 2\",\"payload\",(0,t.hexlify)(e));const n=d(r[2]),o=d(r[3]),i={type:2,chainId:d(r[0]).toNumber(),nonce:d(r[1]).toNumber(),maxPriorityFeePerGas:n,maxFeePerGas:o,gasPrice:null,gasLimit:d(r[4]),to:m(r[5]),value:d(r[6]),data:r[7],accessList:w(r[8])};return 9===r.length?i:(i.hash=(0,a.keccak256)(e),j(i,r.slice(9),A),i)}function O(e){const r=s.decode(e.slice(1));8!==r.length&&11!==r.length&&p.throwArgumentError(\"invalid component count for transaction type: 1\",\"payload\",(0,t.hexlify)(e));const n={type:1,chainId:d(r[0]).toNumber(),nonce:d(r[1]).toNumber(),gasPrice:d(r[2]),gasLimit:d(r[3]),to:m(r[4]),value:d(r[5]),data:r[6],accessList:w(r[7])};return 8===r.length?n:(n.hash=(0,a.keccak256)(e),j(n,r.slice(8),E),n)}function T(e){const n=s.decode(e);9!==n.length&&6!==n.length&&p.throwArgumentError(\"invalid raw transaction\",\"rawTransaction\",e);const o={nonce:d(n[0]).toNumber(),gasPrice:d(n[1]),gasLimit:d(n[2]),to:m(n[3]),value:d(n[4]),data:n[5],chainId:0};if(6===n.length)return o;try{o.v=r.BigNumber.from(n[6]).toNumber()}catch(i){return console.log(i),o}if(o.r=(0,t.hexZeroPad)(n[7],32),o.s=(0,t.hexZeroPad)(n[8],32),r.BigNumber.from(o.r).isZero()&&r.BigNumber.from(o.s).isZero())o.chainId=o.v,o.v=0;else{o.chainId=Math.floor((o.v-35)/2),o.chainId<0&&(o.chainId=0);let r=o.v-27;const c=n.slice(0,6);0!==o.chainId&&(c.push((0,t.hexlify)(o.chainId)),c.push(\"0x\"),c.push(\"0x\"),r-=2*o.chainId+8);const u=(0,a.keccak256)(s.encode(c));try{o.from=v(u,{r:(0,t.hexlify)(o.r),s:(0,t.hexlify)(o.s),recoveryParam:r})}catch(i){console.log(i)}o.hash=(0,a.keccak256)(e)}return o.type=null,o}function Z(e){const r=(0,t.arrayify)(e);if(r[0]>127)return T(r);switch(r[0]){case 1:return O(r);case 2:return N(r)}return p.throwError(`unsupported transaction type: ${r[0]}`,c.Logger.errors.UNSUPPORTED_OPERATION,{operation:\"parseTransaction\",transactionType:r[0]})}"},"sourceMaps":null,"error":null,"hash":"07f1b9ebd6f3040fb6a24f74df124669","cacheData":{"env":{}}}