{"id":"cnad","dependencies":[{"name":"/Users/gabriel/Documents/paymentelys/package.json","includedInParent":true,"mtime":1629880755799},{"name":"/Users/gabriel/Documents/paymentelys/node_modules/web3-core-requestmanager/package.json","includedInParent":true,"mtime":1629877547503},{"name":"util","loc":{"line":20,"column":32},"parent":"/Users/gabriel/Documents/paymentelys/node_modules/web3-core-requestmanager/lib/index.js","resolved":"/Users/gabriel/Documents/paymentelys/node_modules/util/util.js"},{"name":"web3-core-helpers","loc":{"line":21,"column":21},"parent":"/Users/gabriel/Documents/paymentelys/node_modules/web3-core-requestmanager/lib/index.js","resolved":"/Users/gabriel/Documents/paymentelys/node_modules/web3-core-helpers/lib/index.js"},{"name":"./jsonrpc.js","loc":{"line":22,"column":22},"parent":"/Users/gabriel/Documents/paymentelys/node_modules/web3-core-requestmanager/lib/index.js","resolved":"/Users/gabriel/Documents/paymentelys/node_modules/web3-core-requestmanager/lib/jsonrpc.js"},{"name":"./batch.js","loc":{"line":23,"column":27},"parent":"/Users/gabriel/Documents/paymentelys/node_modules/web3-core-requestmanager/lib/index.js","resolved":"/Users/gabriel/Documents/paymentelys/node_modules/web3-core-requestmanager/lib/batch.js"},{"name":"./givenProvider.js","loc":{"line":24,"column":28},"parent":"/Users/gabriel/Documents/paymentelys/node_modules/web3-core-requestmanager/lib/index.js","resolved":"/Users/gabriel/Documents/paymentelys/node_modules/web3-core-requestmanager/lib/givenProvider.js"},{"name":"web3-providers-ws","loc":{"line":44,"column":31},"parent":"/Users/gabriel/Documents/paymentelys/node_modules/web3-core-requestmanager/lib/index.js","resolved":"/Users/gabriel/Documents/paymentelys/node_modules/web3-providers-ws/lib/index.js"},{"name":"web3-providers-http","loc":{"line":45,"column":26},"parent":"/Users/gabriel/Documents/paymentelys/node_modules/web3-core-requestmanager/lib/index.js","resolved":"/Users/gabriel/Documents/paymentelys/node_modules/web3-providers-http/lib/index.js"},{"name":"web3-providers-ipc","loc":{"line":46,"column":25},"parent":"/Users/gabriel/Documents/paymentelys/node_modules/web3-core-requestmanager/lib/index.js","resolved":"/Users/gabriel/Documents/paymentelys/node_modules/web3-providers-ipc/lib/index.js"}],"generated":{"js":"\"use strict\";function r(i){return(r=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(r){return typeof r}:function(r){return r&&\"function\"==typeof Symbol&&r.constructor===Symbol&&r!==Symbol.prototype?\"symbol\":typeof r})(i)}var i=require(\"util\"),e=i.callbackify,o=require(\"web3-core-helpers\").errors,t=require(\"./jsonrpc.js\"),s=require(\"./batch.js\"),n=require(\"./givenProvider.js\"),p=function r(i,e){this.provider=null,this.providers=r.providers,this.setProvider(i,e),this.subscriptions=new Map};p.givenProvider=n,p.providers={WebsocketProvider:require(\"web3-providers-ws\"),HttpProvider:require(\"web3-providers-http\"),IpcProvider:require(\"web3-providers-ipc\")},p.prototype.setProvider=function(i,e){var t=this;if(i&&\"string\"==typeof i&&this.providers)if(/^http(s)?:\\/\\//i.test(i))i=new this.providers.HttpProvider(i);else if(/^ws(s)?:\\/\\//i.test(i))i=new this.providers.WebsocketProvider(i);else if(i&&\"object\"===r(e)&&\"function\"==typeof e.connect)i=new this.providers.IpcProvider(i,e);else if(i)throw new Error(\"Can't autodetect provider for \\\"\"+i+'\"');if(this.provider&&this.provider.connected&&this.clearSubscriptions(),this.provider=i||null,this.provider&&this.provider.on){\"function\"==typeof i.request?this.provider.on(\"message\",function(r){if(r&&\"eth_subscription\"===r.type&&r.data){var i=r.data;i.subscription&&t.subscriptions.has(i.subscription)&&t.subscriptions.get(i.subscription).callback(null,i.result)}}):this.provider.on(\"data\",function(r,i){(r=r||i).method&&r.params&&r.params.subscription&&t.subscriptions.has(r.params.subscription)&&t.subscriptions.get(r.params.subscription).callback(null,r.params.result)}),this.provider.on(\"connect\",function(){t.subscriptions.forEach(function(r){r.subscription.resubscribe()})}),this.provider.on(\"error\",function(r){t.subscriptions.forEach(function(i){i.callback(r)})});var s=function(r){t._isCleanCloseEvent(r)&&!t._isIpcCloseError(r)||(t.subscriptions.forEach(function(i){i.callback(o.ConnectionCloseError(r)),t.subscriptions.delete(i.subscription.id)}),t.provider&&t.provider.emit&&t.provider.emit(\"error\",o.ConnectionCloseError(r))),t.provider&&t.provider.emit&&t.provider.emit(\"end\",r)};this.provider.on(\"close\",s),this.provider.on(\"disconnect\",s)}},p.prototype.send=function(r,i){if(i=i||function(){},!this.provider)return i(o.InvalidProvider());var s=r.method,n=r.params,p=t.toPayload(s,n),c=this._jsonrpcResultCallback(i,p);if(this.provider.request)e(this.provider.request.bind(this.provider))({method:s,params:n},i);else if(this.provider.sendAsync)this.provider.sendAsync(p,c);else{if(!this.provider.send)throw new Error(\"Provider does not have a request or send method to use.\");this.provider.send(p,c)}},p.prototype.sendBatch=function(r,i){if(!this.provider)return i(o.InvalidProvider());var e=t.toBatchPayload(r);this.provider[this.provider.sendAsync?\"sendAsync\":\"send\"](e,function(r,e){return r?i(r):Array.isArray(e)?void i(null,e):i(o.InvalidResponse(e))})},p.prototype.addSubscription=function(r,i){if(!this.provider.on)throw new Error(\"The provider doesn't support subscriptions: \"+this.provider.constructor.name);this.subscriptions.set(r.id,{callback:i,subscription:r})},p.prototype.removeSubscription=function(r,i){if(this.subscriptions.has(r)){var e=this.subscriptions.get(r).subscription.options.type;return this.subscriptions.delete(r),void this.send({method:e+\"_unsubscribe\",params:[r]},i)}\"function\"==typeof i&&i(null)},p.prototype.clearSubscriptions=function(r){try{var i=this;return this.subscriptions.size>0&&this.subscriptions.forEach(function(e,o){r&&\"syncing\"===e.name||i.removeSubscription(o)}),this.provider.reset&&this.provider.reset(),!0}catch(e){throw new Error(\"Error while clearing subscriptions: \".concat(e))}},p.prototype._isCleanCloseEvent=function(i){return\"object\"===r(i)&&([1e3].includes(i.code)||!0===i.wasClean)},p.prototype._isIpcCloseError=function(r){return\"boolean\"==typeof r&&r},p.prototype._jsonrpcResultCallback=function(r,i){return function(e,s){return s&&s.id&&i.id!==s.id?r(new Error(\"Wrong response id \".concat(s.id,\" (expected: \").concat(i.id,\") in \").concat(JSON.stringify(i)))):e?r(e):s&&s.error?r(o.ErrorResponse(s)):t.isValidResponse(s)?void r(null,s.result):r(o.InvalidResponse(s))}},module.exports={Manager:p,BatchManager:s};"},"sourceMaps":null,"error":null,"hash":"75b31a91cee0b5cdeb35f23277df6a3e","cacheData":{"env":{}}}