{"id":"uCIC","dependencies":[{"name":"/Users/gabriel/Documents/paymentelys/package.json","includedInParent":true,"mtime":1630498634517},{"name":"/Users/gabriel/Documents/paymentelys/node_modules/@ethereumjs/tx/package.json","includedInParent":true,"mtime":1629877548001},{"name":"ethereumjs-util","loc":{"line":43,"column":32},"parent":"/Users/gabriel/Documents/paymentelys/node_modules/@ethereumjs/tx/dist.browser/legacyTransaction.js","resolved":"/Users/gabriel/Documents/paymentelys/node_modules/ethereumjs-util/dist.browser/index.js"},{"name":"./types","loc":{"line":44,"column":22},"parent":"/Users/gabriel/Documents/paymentelys/node_modules/@ethereumjs/tx/dist.browser/legacyTransaction.js","resolved":"/Users/gabriel/Documents/paymentelys/node_modules/@ethereumjs/tx/dist.browser/types.js"},{"name":"./baseTransaction","loc":{"line":45,"column":32},"parent":"/Users/gabriel/Documents/paymentelys/node_modules/@ethereumjs/tx/dist.browser/legacyTransaction.js","resolved":"/Users/gabriel/Documents/paymentelys/node_modules/@ethereumjs/tx/dist.browser/baseTransaction.js"},{"name":"buffer","parent":"/Users/gabriel/Documents/paymentelys/node_modules/@ethereumjs/tx/dist.browser/legacyTransaction.js","resolved":"/Users/gabriel/Documents/paymentelys/node_modules/node-libs-browser/node_modules/buffer/index.js"}],"generated":{"js":"var Buffer = require(\"buffer\").Buffer;\nvar t=require(\"buffer\").Buffer,e=this&&this.__extends||function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(e,r)};return function(e,r){function i(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(i.prototype=r.prototype,new i)}}(),r=this&&this.__assign||function(){return(r=Object.assign||function(t){for(var e,r=1,i=arguments.length;r<i;r++)for(var n in e=arguments[r])Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}).apply(this,arguments)},i=this&&this.__read||function(t,e){var r=\"function\"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var i,n,o=r.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(i=o.next()).done;)a.push(i.value)}catch(s){n={error:s}}finally{try{i&&!i.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return a};Object.defineProperty(exports,\"__esModule\",{value:!0});var n=require(\"ethereumjs-util\"),o=require(\"./types\"),a=require(\"./baseTransaction\"),s=0,d=function(a){function d(t,e){var i;void 0===e&&(e={});var d=a.call(this,r(r({},t),{type:s}))||this;if(d.common=d._validateTxV(d.v,e.common),d.gasPrice=new n.BN(n.toBuffer(\"\"===t.gasPrice?\"0x\":t.gasPrice)),d._validateCannotExceedMaxInteger({gasPrice:d.gasPrice}),d.common.gteHardfork(\"spuriousDragon\"))if(d.isSigned()){var u=d.v,h=d.common.chainIdBN().muln(2);(u.eq(h.addn(35))||u.eq(h.addn(36)))&&d.activeCapabilities.push(o.Capability.EIP155ReplayProtection)}else d.activeCapabilities.push(o.Capability.EIP155ReplayProtection);return(null===(i=null==e?void 0:e.freeze)||void 0===i||i)&&Object.freeze(d),d}return e(d,a),d.fromTxData=function(t,e){return void 0===e&&(e={}),new d(t,e)},d.fromSerializedTx=function(t,e){void 0===e&&(e={});var r=n.rlp.decode(t);if(!Array.isArray(r))throw new Error(\"Invalid serialized tx input. Must be array\");return this.fromValuesArray(r,e)},d.fromRlpSerializedTx=function(t,e){return void 0===e&&(e={}),d.fromSerializedTx(t,e)},d.fromValuesArray=function(t,e){if(void 0===e&&(e={}),6!==t.length&&9!==t.length)throw new Error(\"Invalid transaction. Only expecting 6 values (for unsigned tx) or 9 values (for signed tx).\");var r=i(t,9);return new d({nonce:r[0],gasPrice:r[1],gasLimit:r[2],to:r[3],value:r[4],data:r[5],v:r[6],r:r[7],s:r[8]},e)},d.prototype.raw=function(){return[n.bnToUnpaddedBuffer(this.nonce),n.bnToUnpaddedBuffer(this.gasPrice),n.bnToUnpaddedBuffer(this.gasLimit),void 0!==this.to?this.to.buf:t.from([]),n.bnToUnpaddedBuffer(this.value),this.data,void 0!==this.v?n.bnToUnpaddedBuffer(this.v):t.from([]),void 0!==this.r?n.bnToUnpaddedBuffer(this.r):t.from([]),void 0!==this.s?n.bnToUnpaddedBuffer(this.s):t.from([])]},d.prototype.serialize=function(){return n.rlp.encode(this.raw())},d.prototype._getMessageToSign=function(){var e=[n.bnToUnpaddedBuffer(this.nonce),n.bnToUnpaddedBuffer(this.gasPrice),n.bnToUnpaddedBuffer(this.gasLimit),void 0!==this.to?this.to.buf:t.from([]),n.bnToUnpaddedBuffer(this.value),this.data];return this.supports(o.Capability.EIP155ReplayProtection)&&(e.push(n.toBuffer(this.common.chainIdBN())),e.push(n.unpadBuffer(n.toBuffer(0))),e.push(n.unpadBuffer(n.toBuffer(0)))),e},d.prototype.getMessageToSign=function(t){void 0===t&&(t=!0);var e=this._getMessageToSign();return t?n.rlphash(e):e},d.prototype.getUpfrontCost=function(){return this.gasLimit.mul(this.gasPrice).add(this.value)},d.prototype.hash=function(){return n.rlphash(this.raw())},d.prototype.getMessageToVerifySignature=function(){if(!this.isSigned())throw Error(\"This transaction is not signed\");var t=this._getMessageToSign();return n.rlphash(t)},d.prototype.getSenderPublicKey=function(){var t,e=this.getMessageToVerifySignature();if(this.common.gteHardfork(\"homestead\")&&(null===(t=this.s)||void 0===t?void 0:t.gt(o.N_DIV_2)))throw new Error(\"Invalid Signature: s-values greater than secp256k1n/2 are considered invalid\");var r=this.v,i=this.r,a=this.s;try{return n.ecrecover(e,r,n.bnToUnpaddedBuffer(i),n.bnToUnpaddedBuffer(a),this.supports(o.Capability.EIP155ReplayProtection)?this.common.chainIdBN():void 0)}catch(s){throw new Error(\"Invalid Signature\")}},d.prototype._processSignature=function(t,e,r){var i=new n.BN(t);this.supports(o.Capability.EIP155ReplayProtection)&&i.iadd(this.common.chainIdBN().muln(2).addn(8));var a={common:this.common};return d.fromTxData({nonce:this.nonce,gasPrice:this.gasPrice,gasLimit:this.gasLimit,to:this.to,value:this.value,data:this.data,v:i,r:new n.BN(e),s:new n.BN(r)},a)},d.prototype.toJSON=function(){return{nonce:n.bnToHex(this.nonce),gasPrice:n.bnToHex(this.gasPrice),gasLimit:n.bnToHex(this.gasLimit),to:void 0!==this.to?this.to.toString():void 0,value:n.bnToHex(this.value),data:\"0x\"+this.data.toString(\"hex\"),v:void 0!==this.v?n.bnToHex(this.v):void 0,r:void 0!==this.r?n.bnToHex(this.r):void 0,s:void 0!==this.s?n.bnToHex(this.s):void 0}},d.prototype._validateTxV=function(t,e){var r;if(void 0!==t&&!t.eqn(0)&&(!e||e.gteHardfork(\"spuriousDragon\"))&&!t.eqn(27)&&!t.eqn(28))if(e){var i=e.chainIdBN().muln(2);if(!(t.eq(i.addn(35))||t.eq(i.addn(36))))throw new Error(\"Incompatible EIP155-based V \"+t.toString()+\" and chain id \"+e.chainIdBN().toString()+\". See the Common parameter of the Transaction constructor to set the chain id.\")}else{var n=void 0;n=t.subn(35).isEven()?35:36,r=t.subn(n).divn(2)}return this._getCommon(e,r)},d.prototype._unsignedTxImplementsEIP155=function(){return this.common.gteHardfork(\"spuriousDragon\")},d.prototype._signedTxImplementsEIP155=function(){if(!this.isSigned())throw Error(\"This transaction is not signed\");var t=this.common.gteHardfork(\"spuriousDragon\"),e=this.v,r=this.common.chainIdBN().muln(2);return(e.eq(r.addn(35))||e.eq(r.addn(36)))&&t},d}(a.BaseTransaction);exports.default=d;"},"sourceMaps":null,"error":null,"hash":"430780d7b773d9aecc4429ce8b1b5d29","cacheData":{"env":{}}}