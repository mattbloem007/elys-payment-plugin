{"id":"ZwQN","dependencies":[{"name":"/Users/gabriel/Documents/paymentelys/package.json","includedInParent":true,"mtime":1629880755799},{"name":"/Users/gabriel/Documents/paymentelys/node_modules/web3-eth-accounts/package.json","includedInParent":true,"mtime":1629877547485},{"name":"web3-core","loc":{"line":23,"column":19},"parent":"/Users/gabriel/Documents/paymentelys/node_modules/web3-eth-accounts/lib/index.js","resolved":"/Users/gabriel/Documents/paymentelys/node_modules/web3-core/lib/index.js"},{"name":"web3-core-method","loc":{"line":24,"column":21},"parent":"/Users/gabriel/Documents/paymentelys/node_modules/web3-eth-accounts/lib/index.js","resolved":"/Users/gabriel/Documents/paymentelys/node_modules/web3-core-method/lib/index.js"},{"name":"eth-lib/lib/account","loc":{"line":25,"column":22},"parent":"/Users/gabriel/Documents/paymentelys/node_modules/web3-eth-accounts/lib/index.js","resolved":"/Users/gabriel/Documents/paymentelys/node_modules/eth-lib/lib/account.js"},{"name":"eth-lib/lib/hash","loc":{"line":26,"column":19},"parent":"/Users/gabriel/Documents/paymentelys/node_modules/web3-eth-accounts/lib/index.js","resolved":"/Users/gabriel/Documents/paymentelys/node_modules/eth-lib/lib/hash.js"},{"name":"crypto-browserify","loc":{"line":27,"column":53},"parent":"/Users/gabriel/Documents/paymentelys/node_modules/web3-eth-accounts/lib/index.js","resolved":"/Users/gabriel/Documents/paymentelys/node_modules/crypto-browserify/index.js"},{"name":"crypto","loc":{"line":27,"column":84},"parent":"/Users/gabriel/Documents/paymentelys/node_modules/web3-eth-accounts/lib/index.js","resolved":"/Users/gabriel/Documents/paymentelys/node_modules/crypto-browserify/index.js"},{"name":"scrypt-js","loc":{"line":28,"column":21},"parent":"/Users/gabriel/Documents/paymentelys/node_modules/web3-eth-accounts/lib/index.js","resolved":"/Users/gabriel/Documents/paymentelys/node_modules/scrypt-js/scrypt.js"},{"name":"uuid","loc":{"line":29,"column":19},"parent":"/Users/gabriel/Documents/paymentelys/node_modules/web3-eth-accounts/lib/index.js","resolved":"/Users/gabriel/Documents/paymentelys/node_modules/web3-eth-accounts/node_modules/uuid/index.js"},{"name":"web3-utils","loc":{"line":30,"column":20},"parent":"/Users/gabriel/Documents/paymentelys/node_modules/web3-eth-accounts/lib/index.js","resolved":"/Users/gabriel/Documents/paymentelys/node_modules/web3-utils/lib/index.js"},{"name":"web3-core-helpers","loc":{"line":31,"column":22},"parent":"/Users/gabriel/Documents/paymentelys/node_modules/web3-eth-accounts/lib/index.js","resolved":"/Users/gabriel/Documents/paymentelys/node_modules/web3-core-helpers/lib/index.js"},{"name":"@ethereumjs/tx","loc":{"line":32,"column":37},"parent":"/Users/gabriel/Documents/paymentelys/node_modules/web3-eth-accounts/lib/index.js","resolved":"/Users/gabriel/Documents/paymentelys/node_modules/@ethereumjs/tx/dist.browser/index.js"},{"name":"@ethereumjs/common","loc":{"line":34,"column":24},"parent":"/Users/gabriel/Documents/paymentelys/node_modules/web3-eth-accounts/lib/index.js","resolved":"/Users/gabriel/Documents/paymentelys/node_modules/@ethereumjs/common/dist.browser/index.js"},{"name":"buffer","parent":"/Users/gabriel/Documents/paymentelys/node_modules/web3-eth-accounts/lib/index.js","resolved":"/Users/gabriel/Documents/paymentelys/node_modules/node-libs-browser/node_modules/buffer/index.js"}],"generated":{"js":"var global = arguments[3];\nvar Buffer = require(\"buffer\").Buffer;\nvar e=arguments[3],r=require(\"buffer\").Buffer;function t(e){return a(e)||n(e)||f(e)||o()}function o(){throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}function n(e){if(\"undefined\"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e[\"@@iterator\"])return Array.from(e)}function a(e){if(Array.isArray(e))return l(e)}function i(e){return(i=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e})(e)}function s(e,r){return h(e)||u(e,r)||f(e,r)||c()}function c(){throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}function u(e,r){var t=null==e?null:\"undefined\"!=typeof Symbol&&e[Symbol.iterator]||e[\"@@iterator\"];if(null!=t){var o,n,a=[],i=!0,s=!1;try{for(t=t.call(e);!(i=(o=t.next()).done)&&(a.push(o.value),!r||a.length!==r);i=!0);}catch(c){s=!0,n=c}finally{try{i||null==t.return||t.return()}finally{if(s)throw n}}return a}}function h(e){if(Array.isArray(e))return e}function d(e,r){var t=\"undefined\"!=typeof Symbol&&e[Symbol.iterator]||e[\"@@iterator\"];if(!t){if(Array.isArray(e)||(t=f(e))||r&&e&&\"number\"==typeof e.length){t&&(e=t);var o=0,n=function(){};return{s:n,n:function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}},e:function(e){throw e},f:n}}throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}var a,i=!0,s=!1;return{s:function(){t=t.call(e)},n:function(){var e=t.next();return i=e.done,e},e:function(e){s=!0,a=e},f:function(){try{i||null==t.return||t.return()}finally{if(s)throw a}}}}function f(e,r){if(e){if(\"string\"==typeof e)return l(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);return\"Object\"===t&&e.constructor&&(t=e.constructor.name),\"Map\"===t||\"Set\"===t?Array.from(e):\"Arguments\"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?l(e,r):void 0}}function l(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,o=new Array(r);t<r;t++)o[t]=e[t];return o}var m=require(\"web3-core\"),p=require(\"web3-core-method\"),y=require(\"eth-lib/lib/account\"),v=require(\"eth-lib/lib/hash\"),g=void 0===e?require(\"crypto-browserify\"):require(\"crypto\"),w=require(\"scrypt-js\"),x=require(\"uuid\"),b=require(\"web3-utils\"),k=require(\"web3-core-helpers\"),P=require(\"@ethereumjs/tx\"),S=P.TransactionFactory,I=require(\"@ethereumjs/common\").default,C=require(\"@ethereumjs/common\").Hardfork,_=function(e){return null==e},E=function(){var e=this;m.packageInit(this,arguments),delete this.BatchRequest,delete this.extend;var r=[new p({name:\"getNetworkId\",call:\"net_version\",params:0,outputFormatter:parseInt}),new p({name:\"getChainId\",call:\"eth_chainId\",params:0,outputFormatter:b.hexToNumber}),new p({name:\"getGasPrice\",call:\"eth_gasPrice\",params:0}),new p({name:\"getTransactionCount\",call:\"eth_getTransactionCount\",params:2,inputFormatter:[function(e){if(b.isAddress(e))return e;throw new Error(\"Address \"+e+' is not a valid address to get the \"transactionCount\".')},function(){return\"latest\"}]}),new p({name:\"getBlockByNumber\",call:\"eth_getBlockByNumber\",params:2,inputFormatter:[function(e){return e?b.toHex(e):\"latest\"},function(){return!1}]})];this._ethereumCall={},r.forEach(function(r){r.attachToObject(e._ethereumCall),r.setRequestManager(e._requestManager)}),this.wallet=new G(this)};function F(e){if(e.common&&e.chain&&e.hardfork)return new Error(\"Please provide the @ethereumjs/common object or the chain and hardfork property but not all together.\");if(e.chain&&!e.hardfork||e.hardfork&&!e.chain)return new Error('When specifying chain and hardfork, both values must be defined. Received \"chain\": '+e.chain+', \"hardfork\": '+e.hardfork);if(!(e.gas||e.gasLimit||e.maxPriorityFeePerGas||e.maxFeePerGas))return new Error('\"gas\" is missing');if(e.gas&&e.gasPrice){if(e.gas<0||e.gasPrice<0)return new Error(\"Gas or gasPrice is lower than 0\")}else if(e.maxPriorityFeePerGas<0||e.maxFeePerGas<0)return new Error(\"maxPriorityFeePerGas or maxFeePerGas is lower than 0\");return e.nonce<0||e.chainId<0?new Error(\"Nonce or chainId is lower than 0\"):void 0}function A(e){var r,t=void 0!==e.maxFeePerGas||void 0!==e.maxPriorityFeePerGas;if(void 0!==e.type?r=b.toHex(e.type):void 0===e.type&&t&&(r=\"0x2\"),void 0!==e.gasPrice&&(\"0x2\"===r||t))throw Error(\"eip-1559 transactions don't support gasPrice\");if((\"0x1\"===r||\"0x0\"===r)&&t)throw Error(\"pre-eip-1559 transaction don't support maxFeePerGas/maxPriorityFeePerGas\");return t||e.common&&e.common.hardfork&&e.common.hardfork.toLowerCase()===C.London||e.hardfork&&e.hardfork.toLowerCase()===C.London?r=\"0x2\":(e.accessList||e.common&&e.common.hardfork&&e.common.hardfork.toLowerCase()===C.Berlin||e.hardfork&&e.hardfork.toLowerCase()===C.Berlin)&&(r=\"0x1\"),r}function T(e,r){return new Promise(function(t,o){try{(void 0===r.type||r.type<\"0x2\")&&void 0!==r.gasPrice?t({gasPrice:r.gasPrice}):Promise.all([e._ethereumCall.getBlockByNumber(),e._ethereumCall.getGasPrice()]).then(function(e){var o=s(e,2),n=o[0],a=o[1];if(\"0x2\"===r.type&&n&&n.baseFeePerGas){var i,c;r.gasPrice?(i=r.gasPrice,c=r.gasPrice,delete r.gasPrice):(i=r.maxPriorityFeePerGas||\"0x3B9ACA00\",c=r.maxFeePerGas||b.toHex(b.toBN(n.baseFeePerGas).mul(b.toBN(2)).add(b.toBN(i)))),t({maxFeePerGas:c,maxPriorityFeePerGas:i})}else{if(r.maxPriorityFeePerGas||r.maxFeePerGas)throw Error(\"Network doesn't support eip-1559\");t({gasPrice:a})}})}catch(n){o(n)}})}function G(e){this._accounts=e,this.length=0,this.defaultKeyName=\"web3js_wallet\"}function N(e){var r;try{r=window[e];var t=\"__storage_test__\";return r.setItem(t,t),r.removeItem(t),!0}catch(o){return o&&(22===o.code||1014===o.code||\"QuotaExceededError\"===o.name||\"NS_ERROR_DOM_QUOTA_REACHED\"===o.name)&&r&&0!==r.length}}E.prototype._addAccountFunctions=function(e){var r=this;return e.signTransaction=function(t,o){return r.signTransaction(t,e.privateKey,o)},e.sign=function(t){return r.sign(t,e.privateKey)},e.encrypt=function(t,o){return r.encrypt(e.privateKey,t,o)},e},E.prototype.create=function(e){return this._addAccountFunctions(y.create(e||b.randomHex(32)))},E.prototype.privateKeyToAccount=function(e,r){if(e.startsWith(\"0x\")||(e=\"0x\"+e),!r&&66!==e.length)throw new Error(\"Private key must be 32 bytes long\");return this._addAccountFunctions(y.fromPrivate(e))},E.prototype.signTransaction=function(e,t,o){var n=!1,a={},i=!(!e||!(e.chain&&e.hardfork||e.common));if(o=o||function(){},!e)return n=new Error(\"No transaction object given!\"),o(n),Promise.reject(n);function s(e){var n=F(e);if(n)return o(n),Promise.reject(n);try{var s=k.formatters.inputCallFormatter(Object.assign({},e));s.data=s.data||\"0x\",s.value=s.value||\"0x\",s.gasLimit=s.gasLimit||s.gas,\"0x1\"===s.type&&void 0===s.accessList&&(s.accessList=[]),i?(s.common&&(a.common=I.forCustomChain(s.common.baseChain||\"mainnet\",{name:s.common.customChain.name||\"custom-network\",networkId:s.common.customChain.networkId,chainId:s.common.customChain.chainId},s.common.hardfork||C.London),delete s.common),s.chain&&(a.chain=s.chain,delete s.chain),s.hardfork&&(a.hardfork=s.hardfork,delete s.hardfork)):(a.common=I.forCustomChain(\"mainnet\",{name:\"custom-network\",networkId:s.networkId,chainId:s.chainId},s.hardfork||C.London),delete s.networkId),t.startsWith(\"0x\")&&(t=t.substring(2));var c=S.fromTxData(s,a).sign(r.from(t,\"hex\")),u=c.validate(!0);if(u.length>0){var h,f=\"Signer Error: \",l=d(u);try{for(l.s();!(h=l.n()).done;){var m=h.value;f+=\"\".concat(f,\" \").concat(m,\".\")}}catch(g){l.e(g)}finally{l.f()}throw new Error(f)}var p=\"0x\"+c.serialize().toString(\"hex\"),y=b.keccak256(p),v={messageHash:\"0x\"+r.from(c.getMessageToSign(!0)).toString(\"hex\"),v:\"0x\"+r.from(c.v).toString(\"hex\"),r:\"0x\"+r.from(c.r).toString(\"hex\"),s:\"0x\"+r.from(c.s).toString(\"hex\"),rawTransaction:p,transactionHash:y};return o(null,v),v}catch(w){return o(w),Promise.reject(w)}}return e.type=A(e),void 0!==e.nonce&&void 0!==e.chainId&&(void 0!==e.gasPrice||void 0!==e.maxFeePerGas&&void 0!==e.maxPriorityFeePerGas)&&i?Promise.resolve(s(e)):Promise.all([_(e.chainId)?this._ethereumCall.getChainId():e.chainId,_(e.nonce)?this._ethereumCall.getTransactionCount(this.privateKeyToAccount(t).address):e.nonce,_(i)?this._ethereumCall.getNetworkId():1,T(this,e)]).then(function(r){if(_(r[0])||_(r[1])||_(r[2])||_(r[3]))throw new Error('One of the values \"chainId\", \"networkId\", \"gasPrice\", or \"nonce\" couldn\\'t be fetched: '+JSON.stringify(r));return s({...e,chainId:r[0],nonce:r[1],networkId:r[2],...r[3]})})},E.prototype.recoverTransaction=function(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1];var t=r.from(e.slice(2),\"hex\"),o=S.fromSerializedData(t);return b.toChecksumAddress(o.getSenderAddress().toString(\"hex\"))},E.prototype.hashMessage=function(e){var t=b.isHexStrict(e)?e:b.utf8ToHex(e),o=b.hexToBytes(t),n=r.from(o),a=\"\u0019Ethereum Signed Message:\\n\"+o.length,i=r.from(a),s=r.concat([i,n]);return v.keccak256s(s)},E.prototype.sign=function(e,r){if(r.startsWith(\"0x\")||(r=\"0x\"+r),66!==r.length)throw new Error(\"Private key must be 32 bytes long\");var t=this.hashMessage(e),o=y.sign(t,r),n=y.decodeSignature(o);return{message:e,messageHash:t,v:n[0],r:n[1],s:n[2],signature:o}},E.prototype.recover=function(e,r,t){var o=[].slice.apply(arguments);return e&&\"object\"===i(e)?this.recover(e.messageHash,y.encodeSignature([e.v,e.r,e.s]),!0):(t||(e=this.hashMessage(e)),o.length>=4?(t=\"boolean\"==typeof(t=o.slice(-1)[0])&&!!t,this.recover(e,y.encodeSignature(o.slice(1,4)),t)):y.recover(e,r))},E.prototype.decrypt=function(e,o,n){if(\"string\"!=typeof o)throw new Error(\"No password given.\");var a,s,c=e&&\"object\"===i(e)?e:JSON.parse(n?e.toLowerCase():e);if(3!==c.version)throw new Error(\"Not a valid V3 wallet\");if(\"scrypt\"===c.crypto.kdf)s=c.crypto.kdfparams,a=w.syncScrypt(r.from(o),r.from(s.salt,\"hex\"),s.n,s.r,s.p,s.dklen);else{if(\"pbkdf2\"!==c.crypto.kdf)throw new Error(\"Unsupported key derivation scheme\");if(\"hmac-sha256\"!==(s=c.crypto.kdfparams).prf)throw new Error(\"Unsupported parameters to PBKDF2\");a=g.pbkdf2Sync(r.from(o),r.from(s.salt,\"hex\"),s.c,s.dklen,\"sha256\")}var u=r.from(c.crypto.ciphertext,\"hex\");if(b.sha3(r.from([].concat(t(a.slice(16,32)),t(u)))).replace(\"0x\",\"\")!==c.crypto.mac)throw new Error(\"Key derivation failed - possibly wrong password\");var h=g.createDecipheriv(c.crypto.cipher,a.slice(0,16),r.from(c.crypto.cipherparams.iv,\"hex\")),d=\"0x\"+r.from([].concat(t(h.update(u)),t(h.final()))).toString(\"hex\");return this.privateKeyToAccount(d,!0)},E.prototype.encrypt=function(e,o,n){var a,i=this.privateKeyToAccount(e,!0),s=(n=n||{}).salt||g.randomBytes(32),c=n.iv||g.randomBytes(16),u=n.kdf||\"scrypt\",h={dklen:n.dklen||32,salt:s.toString(\"hex\")};if(\"pbkdf2\"===u)h.c=n.c||262144,h.prf=\"hmac-sha256\",a=g.pbkdf2Sync(r.from(o),r.from(h.salt,\"hex\"),h.c,h.dklen,\"sha256\");else{if(\"scrypt\"!==u)throw new Error(\"Unsupported kdf\");h.n=n.n||8192,h.r=n.r||8,h.p=n.p||1,a=w.syncScrypt(r.from(o),r.from(h.salt,\"hex\"),h.n,h.r,h.p,h.dklen)}var d=g.createCipheriv(n.cipher||\"aes-128-ctr\",a.slice(0,16),c);if(!d)throw new Error(\"Unsupported cipher\");var f=r.from([].concat(t(d.update(r.from(i.privateKey.replace(\"0x\",\"\"),\"hex\"))),t(d.final()))),l=b.sha3(r.from([].concat(t(a.slice(16,32)),t(f)))).replace(\"0x\",\"\");return{version:3,id:x.v4({random:n.uuid||g.randomBytes(16)}),address:i.address.toLowerCase().replace(\"0x\",\"\"),crypto:{ciphertext:f.toString(\"hex\"),cipherparams:{iv:c.toString(\"hex\")},cipher:n.cipher||\"aes-128-ctr\",kdf:u,kdfparams:h,mac:l.toString(\"hex\")}}},G.prototype._findSafeIndex=function(e){return e=e||0,this.hasOwnProperty(e)?this._findSafeIndex(e+1):e},G.prototype._currentIndexes=function(){return Object.keys(this).map(function(e){return parseInt(e)}).filter(function(e){return e<9e20})},G.prototype.create=function(e,r){for(var t=0;t<e;++t)this.add(this._accounts.create(r).privateKey);return this},G.prototype.add=function(e){return\"string\"==typeof e&&(e=this._accounts.privateKeyToAccount(e)),this[e.address]?this[e.address]:((e=this._accounts.privateKeyToAccount(e.privateKey)).index=this._findSafeIndex(),this[e.index]=e,this[e.address]=e,this[e.address.toLowerCase()]=e,this.length++,e)},G.prototype.remove=function(e){var r=this[e];return!(!r||!r.address)&&(this[r.address].privateKey=null,delete this[r.address],this[r.address.toLowerCase()].privateKey=null,delete this[r.address.toLowerCase()],this[r.index].privateKey=null,delete this[r.index],this.length--,!0)},G.prototype.clear=function(){var e=this;return this._currentIndexes().forEach(function(r){e.remove(r)}),this},G.prototype.encrypt=function(e,r){var t=this;return this._currentIndexes().map(function(o){return t[o].encrypt(e,r)})},G.prototype.decrypt=function(e,r){var t=this;return e.forEach(function(e){var o=t._accounts.decrypt(e,r);if(!o)throw new Error(\"Couldn't decrypt accounts. Password wrong?\");t.add(o)}),this},G.prototype.save=function(e,r){return localStorage.setItem(r||this.defaultKeyName,JSON.stringify(this.encrypt(e))),!0},G.prototype.load=function(e,r){var t=localStorage.getItem(r||this.defaultKeyName);if(t)try{t=JSON.parse(t)}catch(o){}return this.decrypt(t||[],e)},N(\"localStorage\")||(delete G.prototype.save,delete G.prototype.load),module.exports=E;"},"sourceMaps":null,"error":null,"hash":"485884ff4f3b3b0a3bad660dadbabd89","cacheData":{"env":{}}}