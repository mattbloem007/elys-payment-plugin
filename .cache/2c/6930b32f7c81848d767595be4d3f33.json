{"id":"qamH","dependencies":[{"name":"/Users/gabriel/Documents/paymentelys/package.json","includedInParent":true,"mtime":1629880755799},{"name":"/Users/gabriel/Documents/paymentelys/node_modules/web3-eth-iban/package.json","includedInParent":true,"mtime":1629877547608},{"name":"web3-utils","loc":{"line":26,"column":22},"parent":"/Users/gabriel/Documents/paymentelys/node_modules/web3-eth-iban/lib/index.js","resolved":"/Users/gabriel/Documents/paymentelys/node_modules/web3-utils/lib/index.js"},{"name":"bn.js","loc":{"line":27,"column":26},"parent":"/Users/gabriel/Documents/paymentelys/node_modules/web3-eth-iban/lib/index.js","resolved":"/Users/gabriel/Documents/paymentelys/node_modules/bn.js/lib/bn.js"}],"generated":{"js":"\"use strict\";function e(e,n){if(!(e instanceof n))throw new TypeError(\"Cannot call a class as a function\")}function n(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function t(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}var r=require(\"web3-utils\"),i=require(\"bn.js\"),s=function(e,n){for(var t=e;t.length<2*n;)t=\"0\"+t;return t},u=function(e){var n=\"A\".charCodeAt(0),t=\"Z\".charCodeAt(0);return(e=(e=e.toUpperCase()).substr(4)+e.substr(0,4)).split(\"\").map(function(e){var r=e.charCodeAt(0);return r>=n&&r<=t?r-n+10:e}).join(\"\")},a=function(e){for(var n,t=e;t.length>2;)n=t.slice(0,9),t=parseInt(n,10)%97+t.slice(n.length);return parseInt(t,10)%97},o=function(){function n(t){e(this,n),this._iban=t}return t(n,[{key:\"isValid\",value:function(){return/^XE[0-9]{2}(ETH[0-9A-Z]{13}|[0-9A-Z]{30,31})$/.test(this._iban)&&1===a(u(this._iban))}},{key:\"isDirect\",value:function(){return 34===this._iban.length||35===this._iban.length}},{key:\"isIndirect\",value:function(){return 20===this._iban.length}},{key:\"checksum\",value:function(){return this._iban.substr(2,2)}},{key:\"institution\",value:function(){return this.isIndirect()?this._iban.substr(7,4):\"\"}},{key:\"client\",value:function(){return this.isIndirect()?this._iban.substr(11):\"\"}},{key:\"toAddress\",value:function(){if(this.isDirect()){var e=this._iban.substr(4),n=new i(e,36);return r.toChecksumAddress(n.toString(16,20))}return\"\"}},{key:\"toString\",value:function(){return this._iban}}],[{key:\"toAddress\",value:function(e){if(!(e=new n(e)).isDirect())throw new Error(\"IBAN is indirect and can't be converted\");return e.toAddress()}},{key:\"toIban\",value:function(e){return n.fromAddress(e).toString()}},{key:\"fromAddress\",value:function(e){if(!r.isAddress(e))throw new Error(\"Provided address is not a valid address: \"+e);e=e.replace(\"0x\",\"\").replace(\"0X\",\"\");var t=new i(e,16).toString(36),u=s(t,15);return n.fromBban(u.toUpperCase())}},{key:\"fromBban\",value:function(e){return new n(\"XE\"+(\"0\"+(98-a(u(\"XE00\"+e)))).slice(-2)+e)}},{key:\"createIndirect\",value:function(e){return n.fromBban(\"ETH\"+e.institution+e.identifier)}},{key:\"isValid\",value:function(e){return new n(e).isValid()}}]),n}();module.exports=o;"},"sourceMaps":null,"error":null,"hash":"a2799a0a312669e8d165e34c6fd540c1","cacheData":{"env":{}}}