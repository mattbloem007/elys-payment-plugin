{"id":"GVWY","dependencies":[{"name":"/Users/gabriel/Documents/paymentelys/package.json","includedInParent":true,"mtime":1630497371087},{"name":"/Users/gabriel/Documents/paymentelys/node_modules/swarm-js/package.json","includedInParent":true,"mtime":1629877546950},{"name":"/Users/gabriel/Documents/paymentelys/node_modules/swarm-js/.babelrc","includedInParent":true,"mtime":1629877546950},{"name":"process","parent":"/Users/gabriel/Documents/paymentelys/node_modules/swarm-js/lib/swarm.js","resolved":"/Users/gabriel/Documents/paymentelys/node_modules/process/browser.js"}],"generated":{"js":"var process = require(\"process\");\nvar n=require(\"process\");module.exports=function(n){var t=n.fs,r=n.files,e=n.os,o=n.path,u=n.child_process,i=n.mimetype,a=n.defaultArchives,c=n.request,f=n.downloadUrl,s=n.bytes,d=n.hash,l=n.pick,h=function(n){return function(t){for(var r={},e=0,o=n.length;e<o;++e)r[n[e]]=t[e];return r}},p=function(n){return function(t){return\"\".concat(n,\"/bzz-raw:/\").concat(t)}},m=function(n){return function(t){return new Promise(function(r,e){c(p(n)(t),{responseType:\"arraybuffer\"},function(n,t,o){return n?e(n):o.statusCode>=400?e(new Error(\"Error \".concat(o.statusCode,\".\"))):r(new Uint8Array(t))})})}},v=function(n){return function(t){return function t(r){return function(e){return function(o){var u=function(n){return void 0===n.path?Promise.resolve():\"application/bzz-manifest+json\"===n.contentType?t(n.hash)(e+n.path)(o):Promise.resolve((r=e+n.path,function(n){return function(t){return t[r]=n,t}})(function(n){return{type:n.contentType,hash:n.hash}}(n))(o));var r};return m(n)(r).then(function(n){return JSON.parse(I(n)).entries}).then(function(n){return Promise.all(n.map(u))}).then(function(){return o})}}}(t)(\"\")({})}},y=function(n){return function(t){return v(n)(t).then(function(n){return h(Object.keys(n))(Object.keys(n).map(function(t){return n[t].hash}))})}},w=function(n){return function(t){return v(n)(t).then(function(t){var r=Object.keys(t),e=r.map(function(n){return t[n].hash}),o=r.map(function(n){return t[n].type}),u=e.map(m(n));return Promise.all(u).then(function(n){return h(r)(function(n){return n.map(function(n,t){return{type:o[t],data:n}})}(n))})})}},D=function(n){return function(t){return function(e){return r.download(p(n)(t))(e)}}},k=function(n){return function(t){return function(r){return y(n)(t).then(function(t){var e=[];for(var u in t)if(u.length>0){var i=o.join(r,u);e.push(D(n)(t[u])(i))}return Promise.all(e).then(function(){return r})})}}},P=function(n){return function(t){return new Promise(function(r,e){var o={body:\"string\"==typeof t?M(t):t,method:\"POST\"};c(\"\".concat(n,\"/bzz-raw:/\"),o,function(n,t){return n?e(n):r(t)})})}},b=function(n){return function(t){return function(r){return function(e){return function o(u){var i=\"/\"===r[0]?r:\"/\"+r,a=\"\".concat(n,\"/bzz:/\").concat(t).concat(i),f={method:\"PUT\",headers:{\"Content-Type\":e.type},body:e.data};return new Promise(function(n,t){c(a,f,function(r,e){return r?t(r):-1!==e.indexOf(\"error\")?t(e):n(e)})}).catch(function(n){return u>0&&o(u-1)})}(3)}}}},T=function(n){return function(t){return F(n)({\"\":t})}},g=function(n){return function(r){return t.readFile(r).then(function(t){return T(n)({type:i.lookup(r),data:t})})}},F=function(n){return function(t){return P(n)(\"{}\").then(function(r){return Object.keys(t).reduce(function(r,e){return r.then(function(r){return function(e){return b(n)(e)(r)(t[r])}}(e))},Promise.resolve(r))})}},A=function(n){return function(r){return t.readFile(r).then(P(n))}},S=function(n){return function(e){return function(o){return r.directoryTree(o).then(function(n){return Promise.all(n.map(function(n){return t.readFile(n)})).then(function(t){var r=n.map(function(n){return n.slice(o.length)}),e=n.map(function(n){return i.lookup(n)||\"text/plain\"});return h(r)(t.map(function(n,t){return{type:e[t],data:n}}))})}).then(function(n){return(t=e?{\"\":n[e]}:{},function(n){var r={};for(var e in t)r[e]=t[e];for(var o in n)r[o]=n[o];return r})(n);var t}).then(F(n))}}},z=function(n){return function(t){if(\"data\"===t.pick)return l.data().then(P(n));if(\"file\"===t.pick)return l.file().then(T(n));if(\"directory\"===t.pick)return l.directory().then(F(n));if(t.path)switch(t.kind){case\"data\":return A(n)(t.path);case\"file\":return g(n)(t.path);case\"directory\":return S(n)(t.defaultFile)(t.path)}else{if(t.length||\"string\"==typeof t)return P(n)(t);if(t instanceof Object)return F(n)(t)}return Promise.reject(new Error(\"Bad arguments\"))}},O=function(n){return function(t){return function(r){return U(n)(t).then(function(e){return e?r?k(n)(t)(r):w(n)(t):r?D(n)(t)(r):m(n)(t)})}}},j=function(n,t){var o=e.platform().replace(\"win32\",\"windows\")+\"-\"+(\"x64\"===e.arch()?\"amd64\":\"386\"),u=(t||a)[o],i=f+u.archive+\".tar.gz\",c=u.archiveMD5,s=u.binaryMD5;return r.safeDownloadArchived(i)(c)(s)(n)},x=function(n){return new Promise(function(t,r){var e=u.spawn,o=function(n){return function(t){return-1!==(\"\"+t).indexOf(n)}},i=n.account,a=n.password,c=n.dataDir,f=n.ensApi,s=n.privateKey,d=0,l=e(n.binPath,[\"--bzzaccount\",i||s,\"--datadir\",c,\"--ens-api\",f]),h=function(n){0===d&&o(\"Passphrase\")(n)?setTimeout(function(){d=1,l.stdin.write(a+\"\\n\")},500):o(\"Swarm http proxy started\")(n)&&(d=2,clearTimeout(p),t(l))};l.stdout.on(\"data\",h),l.stderr.on(\"data\",h);var p=setTimeout(function(){return r(new Error(\"Couldn't start swarm process.\"))},2e4)})},L=function(n){return new Promise(function(t,r){n.stderr.removeAllListeners(\"data\"),n.stdout.removeAllListeners(\"data\"),n.stdin.removeAllListeners(\"error\"),n.removeAllListeners(\"error\"),n.removeAllListeners(\"exit\"),n.kill(\"SIGINT\");var e=setTimeout(function(){return n.kill(\"SIGKILL\")},8e3);n.once(\"close\",function(){clearTimeout(e),t()})})},E=function(n){return P(n)(\"test\").then(function(n){return\"c9a99c7d326dcc6316f32fe2625b311f6dc49a175e6877681ded93137d3569e7\"===n}).catch(function(){return!1})},U=function(n){return function(t){return m(n)(t).then(function(n){try{return!!JSON.parse(I(n)).entries}catch(t){return!1}})}},C=function(n){return function(t,r,e,o,u){var i;return void 0!==t&&(i=n(t)),void 0!==r&&(i=n(r)),void 0!==e&&(i=n(e)),void 0!==o&&(i=n(o)),void 0!==u&&(i=n(u)),i}},I=function(n){return s.toString(s.fromUint8Array(n))},M=function(n){return s.toUint8Array(s.fromString(n))},N=function(n){return{download:function(t,r){return O(n)(t)(r)},downloadData:C(m(n)),downloadDataToDisk:C(D(n)),downloadDirectory:C(w(n)),downloadDirectoryToDisk:C(k(n)),downloadEntries:C(v(n)),downloadRoutes:C(y(n)),isAvailable:function(){return E(n)},upload:function(t){return z(n)(t)},uploadData:C(P(n)),uploadFile:C(T(n)),uploadFileFromDisk:C(T(n)),uploadDataFromDisk:C(A(n)),uploadDirectory:C(F(n)),uploadDirectoryFromDisk:C(S(n)),uploadToManifest:C(b(n)),pick:l,hash:d,fromString:M,toString:I}};return{at:N,local:function(n){return function(t){return E(\"http://localhost:8500\").then(function(r){return r?t(N(\"http://localhost:8500\")).then(function(){}):j(n.binPath,n.archives).onData(function(t){return(n.onProgress||function(){})(t.length)}).then(function(){return x(n)}).then(function(n){return t(N(\"http://localhost:8500\")).then(function(){return n})}).then(L)})}},download:O,downloadBinary:j,downloadData:m,downloadDataToDisk:D,downloadDirectory:w,downloadDirectoryToDisk:k,downloadEntries:v,downloadRoutes:y,isAvailable:E,startProcess:x,stopProcess:L,upload:z,uploadData:P,uploadDataFromDisk:A,uploadFile:T,uploadFileFromDisk:g,uploadDirectory:F,uploadDirectoryFromDisk:S,uploadToManifest:b,pick:l,hash:d,fromString:M,toString:I}};"},"sourceMaps":null,"error":null,"hash":"063028ed82ce53334a69fd51f68f3017","cacheData":{"env":{}}}