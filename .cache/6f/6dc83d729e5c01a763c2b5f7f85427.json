{"id":"MK9m","dependencies":[{"name":"/Users/gabriel/Documents/paymentelys/package.json","includedInParent":true,"mtime":1631701303199},{"name":"/Users/gabriel/Documents/paymentelys/node_modules/@ethersproject/hash/package.json","includedInParent":true,"mtime":1629877552918},{"name":"@ethersproject/address","loc":{"line":10,"column":27},"parent":"/Users/gabriel/Documents/paymentelys/node_modules/@ethersproject/hash/lib.esm/typed-data.js","resolved":"/Users/gabriel/Documents/paymentelys/node_modules/@ethersproject/address/lib.esm/index.js"},{"name":"@ethersproject/bignumber","loc":{"line":11,"column":26},"parent":"/Users/gabriel/Documents/paymentelys/node_modules/@ethersproject/hash/lib.esm/typed-data.js","resolved":"/Users/gabriel/Documents/paymentelys/node_modules/@ethersproject/bignumber/lib.esm/index.js"},{"name":"@ethersproject/bytes","loc":{"line":12,"column":70},"parent":"/Users/gabriel/Documents/paymentelys/node_modules/@ethersproject/hash/lib.esm/typed-data.js","resolved":"/Users/gabriel/Documents/paymentelys/node_modules/@ethersproject/bytes/lib.esm/index.js"},{"name":"@ethersproject/keccak256","loc":{"line":13,"column":26},"parent":"/Users/gabriel/Documents/paymentelys/node_modules/@ethersproject/hash/lib.esm/typed-data.js","resolved":"/Users/gabriel/Documents/paymentelys/node_modules/@ethersproject/keccak256/lib.esm/index.js"},{"name":"@ethersproject/properties","loc":{"line":14,"column":54},"parent":"/Users/gabriel/Documents/paymentelys/node_modules/@ethersproject/hash/lib.esm/typed-data.js","resolved":"/Users/gabriel/Documents/paymentelys/node_modules/@ethersproject/properties/lib.esm/index.js"},{"name":"@ethersproject/logger","loc":{"line":15,"column":23},"parent":"/Users/gabriel/Documents/paymentelys/node_modules/@ethersproject/hash/lib.esm/typed-data.js","resolved":"/Users/gabriel/Documents/paymentelys/node_modules/@ethersproject/logger/lib.esm/index.js"},{"name":"./_version","loc":{"line":16,"column":24},"parent":"/Users/gabriel/Documents/paymentelys/node_modules/@ethersproject/hash/lib.esm/typed-data.js","resolved":"/Users/gabriel/Documents/paymentelys/node_modules/@ethersproject/hash/lib.esm/_version.js"},{"name":"./id","loc":{"line":18,"column":19},"parent":"/Users/gabriel/Documents/paymentelys/node_modules/@ethersproject/hash/lib.esm/typed-data.js","resolved":"/Users/gabriel/Documents/paymentelys/node_modules/@ethersproject/hash/lib.esm/id.js"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.TypedDataEncoder=void 0;var r=require(\"@ethersproject/address\"),t=require(\"@ethersproject/bignumber\"),e=require(\"@ethersproject/bytes\"),n=require(\"@ethersproject/keccak256\"),i=require(\"@ethersproject/properties\"),o=require(\"@ethersproject/logger\"),a=require(\"./_version\"),s=require(\"./id\"),c=function(r,t,e,n){return new(e||(e=Promise))(function(i,o){function a(r){try{c(n.next(r))}catch(t){o(t)}}function s(r){try{c(n.throw(r))}catch(t){o(t)}}function c(r){var t;r.done?i(r.value):(t=r.value,t instanceof e?t:new e(function(r){r(t)})).then(a,s)}c((n=n.apply(r,t||[])).next())})};const f=new o.Logger(a.version),u=new Uint8Array(32);u.fill(0);const h=t.BigNumber.from(-1),y=t.BigNumber.from(0),m=t.BigNumber.from(1),d=t.BigNumber.from(\"0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff\");function g(r){const t=(0,e.arrayify)(r),n=t.length%32;return n?(0,e.hexConcat)([t,u.slice(n)]):(0,e.hexlify)(t)}const p=(0,e.hexZeroPad)(m.toHexString(),32),l=(0,e.hexZeroPad)(y.toHexString(),32),v={name:\"string\",version:\"string\",chainId:\"uint256\",verifyingContract:\"address\",salt:\"bytes32\"},w=[\"name\",\"version\",\"chainId\",\"verifyingContract\",\"salt\"];function E(r){return function(t){return\"string\"!=typeof t&&f.throwArgumentError(`invalid domain value for ${JSON.stringify(r)}`,`domain.${r}`,t),t}}const x={name:E(\"name\"),version:E(\"version\"),chainId:function(r){try{return t.BigNumber.from(r).toString()}catch(e){}return f.throwArgumentError('invalid domain value for \"chainId\"',\"domain.chainId\",r)},verifyingContract:function(t){try{return(0,r.getAddress)(t).toLowerCase()}catch(e){}return f.throwArgumentError('invalid domain value \"verifyingContract\"',\"domain.verifyingContract\",t)},salt:function(r){try{const n=(0,e.arrayify)(r);if(32!==n.length)throw new Error(\"bad length\");return(0,e.hexlify)(n)}catch(t){}return f.throwArgumentError('invalid domain value \"salt\"',\"domain.salt\",r)}};function b(i){{const r=i.match(/^(u?)int(\\d*)$/);if(r){const n=\"\"===r[1],o=parseInt(r[2]||\"256\");(o%8!=0||o>256||r[2]&&r[2]!==String(o))&&f.throwArgumentError(\"invalid numeric width\",\"type\",i);const a=d.mask(n?o-1:o),s=n?a.add(m).mul(h):y;return function(r){const n=t.BigNumber.from(r);return(n.lt(s)||n.gt(a))&&f.throwArgumentError(`value out-of-bounds for ${i}`,\"value\",r),(0,e.hexZeroPad)(n.toTwos(256).toHexString(),32)}}}{const r=i.match(/^bytes(\\d+)$/);if(r){const t=parseInt(r[1]);return(0===t||t>32||r[1]!==String(t))&&f.throwArgumentError(\"invalid bytes width\",\"type\",i),function(r){return(0,e.arrayify)(r).length!==t&&f.throwArgumentError(`invalid length for ${i}`,\"value\",r),g(r)}}}switch(i){case\"address\":return function(t){return(0,e.hexZeroPad)((0,r.getAddress)(t),32)};case\"bool\":return function(r){return r?p:l};case\"bytes\":return function(r){return(0,n.keccak256)(r)};case\"string\":return function(r){return(0,s.id)(r)}}return null}function A(r,t){return`${r}(${t.map(({name:r,type:t})=>t+\" \"+r).join(\",\")})`}class k{constructor(r){(0,i.defineReadOnly)(this,\"types\",Object.freeze((0,i.deepCopy)(r))),(0,i.defineReadOnly)(this,\"_encoderCache\",{}),(0,i.defineReadOnly)(this,\"_types\",{});const t={},e={},n={};Object.keys(r).forEach(r=>{t[r]={},e[r]=[],n[r]={}});for(const i in r){const n={};r[i].forEach(o=>{n[o.name]&&f.throwArgumentError(`duplicate variable name ${JSON.stringify(o.name)} in ${JSON.stringify(i)}`,\"types\",r),n[o.name]=!0;const a=o.type.match(/^([^\\x5b]*)(\\x5b|$)/)[1];a===i&&f.throwArgumentError(`circular type reference to ${JSON.stringify(a)}`,\"types\",r),b(a)||(e[a]||f.throwArgumentError(`unknown type ${JSON.stringify(a)}`,\"types\",r),e[a].push(i),t[i][a]=!0)})}const o=Object.keys(e).filter(r=>0===e[r].length);0===o.length?f.throwArgumentError(\"missing primary type\",\"types\",r):o.length>1&&f.throwArgumentError(`ambiguous primary types or unused types: ${o.map(r=>JSON.stringify(r)).join(\", \")}`,\"types\",r),(0,i.defineReadOnly)(this,\"primaryType\",o[0]),function i(o,a){a[o]&&f.throwArgumentError(`circular type reference to ${JSON.stringify(o)}`,\"types\",r),a[o]=!0,Object.keys(t[o]).forEach(r=>{e[r]&&(i(r,a),Object.keys(a).forEach(t=>{n[t][r]=!0}))}),delete a[o]}(this.primaryType,{});for(const i in n){const t=Object.keys(n[i]);t.sort(),this._types[i]=A(i,r[i])+t.map(t=>A(t,r[t])).join(\"\")}}getEncoder(r){let t=this._encoderCache[r];return t||(t=this._encoderCache[r]=this._getEncoder(r)),t}_getEncoder(r){{const t=b(r);if(t)return t}const t=r.match(/^(.*)(\\x5b(\\d*)\\x5d)$/);if(t){const r=t[1],i=this.getEncoder(r),o=parseInt(t[3]);return t=>{o>=0&&t.length!==o&&f.throwArgumentError(\"array length mismatch; expected length ${ arrayLength }\",\"value\",t);let a=t.map(i);return this._types[r]&&(a=a.map(n.keccak256)),(0,n.keccak256)((0,e.hexConcat)(a))}}const i=this.types[r];if(i){const t=(0,s.id)(this._types[r]);return r=>{const o=i.map(({name:t,type:e})=>{const i=this.getEncoder(e)(r[t]);return this._types[e]?(0,n.keccak256)(i):i});return o.unshift(t),(0,e.hexConcat)(o)}}return f.throwArgumentError(`unknown type: ${r}`,\"type\",r)}encodeType(r){const t=this._types[r];return t||f.throwArgumentError(`unknown type: ${JSON.stringify(r)}`,\"name\",r),t}encodeData(r,t){return this.getEncoder(r)(t)}hashStruct(r,t){return(0,n.keccak256)(this.encodeData(r,t))}encode(r){return this.encodeData(this.primaryType,r)}hash(r){return this.hashStruct(this.primaryType,r)}_visit(r,t,e){if(b(r))return e(r,t);const n=r.match(/^(.*)(\\x5b(\\d*)\\x5d)$/);if(n){const r=n[1],i=parseInt(n[3]);return i>=0&&t.length!==i&&f.throwArgumentError(\"array length mismatch; expected length ${ arrayLength }\",\"value\",t),t.map(t=>this._visit(r,t,e))}const i=this.types[r];return i?i.reduce((r,{name:n,type:i})=>(r[n]=this._visit(i,t[n],e),r),{}):f.throwArgumentError(`unknown type: ${r}`,\"type\",r)}visit(r,t){return this._visit(this.primaryType,r,t)}static from(r){return new k(r)}static getPrimaryType(r){return k.from(r).primaryType}static hashStruct(r,t,e){return k.from(t).hashStruct(r,e)}static hashDomain(r){const t=[];for(const e in r){const n=v[e];n||f.throwArgumentError(`invalid typed-data domain key: ${JSON.stringify(e)}`,\"domain\",r),t.push({name:e,type:n})}return t.sort((r,t)=>w.indexOf(r.name)-w.indexOf(t.name)),k.hashStruct(\"EIP712Domain\",{EIP712Domain:t},r)}static encode(r,t,n){return(0,e.hexConcat)([\"0x1901\",k.hashDomain(r),k.from(t).hash(n)])}static hash(r,t,e){return(0,n.keccak256)(k.encode(r,t,e))}static resolveNames(r,t,n,o){return c(this,void 0,void 0,function*(){r=(0,i.shallowCopy)(r);const a={};r.verifyingContract&&!(0,e.isHexString)(r.verifyingContract,20)&&(a[r.verifyingContract]=\"0x\");const s=k.from(t);s.visit(n,(r,t)=>(\"address\"!==r||(0,e.isHexString)(t,20)||(a[t]=\"0x\"),t));for(const r in a)a[r]=yield o(r);return r.verifyingContract&&a[r.verifyingContract]&&(r.verifyingContract=a[r.verifyingContract]),n=s.visit(n,(r,t)=>\"address\"===r&&a[t]?a[t]:t),{domain:r,value:n}})}static getPayload(r,n,o){k.hashDomain(r);const a={},s=[];w.forEach(t=>{const e=r[t];null!=e&&(a[t]=x[t](e),s.push({name:t,type:v[t]}))});const c=k.from(n),u=(0,i.shallowCopy)(n);return u.EIP712Domain?f.throwArgumentError(\"types must not contain EIP712Domain type\",\"types.EIP712Domain\",n):u.EIP712Domain=s,c.encode(o),{types:u,domain:a,primaryType:c.primaryType,message:c.visit(o,(r,n)=>{if(r.match(/^bytes(\\d*)/))return(0,e.hexlify)((0,e.arrayify)(n));if(r.match(/^u?int/))return t.BigNumber.from(n).toString();switch(r){case\"address\":return n.toLowerCase();case\"bool\":return!!n;case\"string\":return\"string\"!=typeof n&&f.throwArgumentError(\"invalid string\",\"value\",n),n}return f.throwArgumentError(\"unsupported type\",\"type\",r)})}}}exports.TypedDataEncoder=k;"},"sourceMaps":null,"error":null,"hash":"7fd0d62ecda02d81d069edb8a24e2422","cacheData":{"env":{}}}