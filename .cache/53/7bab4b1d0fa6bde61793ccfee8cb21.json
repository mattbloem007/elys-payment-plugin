{"id":"Nzae","dependencies":[{"name":"/Users/gabriel/Documents/paymentelys/package.json","includedInParent":true,"mtime":1631654689386},{"name":"/Users/gabriel/Documents/paymentelys/node_modules/ethereumjs-util/package.json","includedInParent":true,"mtime":1629877547926},{"name":"ethereum-cryptography/secp256k1","loc":{"line":7,"column":26},"parent":"/Users/gabriel/Documents/paymentelys/node_modules/ethereumjs-util/dist.browser/signature.js","resolved":"/Users/gabriel/Documents/paymentelys/node_modules/ethereum-cryptography/secp256k1.js"},{"name":"bn.js","loc":{"line":8,"column":38},"parent":"/Users/gabriel/Documents/paymentelys/node_modules/ethereumjs-util/dist.browser/signature.js","resolved":"/Users/gabriel/Documents/paymentelys/node_modules/ethereumjs-util/node_modules/bn.js/lib/bn.js"},{"name":"./bytes","loc":{"line":9,"column":22},"parent":"/Users/gabriel/Documents/paymentelys/node_modules/ethereumjs-util/dist.browser/signature.js","resolved":"/Users/gabriel/Documents/paymentelys/node_modules/ethereumjs-util/dist.browser/bytes.js"},{"name":"./hash","loc":{"line":10,"column":21},"parent":"/Users/gabriel/Documents/paymentelys/node_modules/ethereumjs-util/dist.browser/signature.js","resolved":"/Users/gabriel/Documents/paymentelys/node_modules/ethereumjs-util/dist.browser/hash.js"},{"name":"./helpers","loc":{"line":11,"column":24},"parent":"/Users/gabriel/Documents/paymentelys/node_modules/ethereumjs-util/dist.browser/signature.js","resolved":"/Users/gabriel/Documents/paymentelys/node_modules/ethereumjs-util/dist.browser/helpers.js"},{"name":"./types","loc":{"line":12,"column":22},"parent":"/Users/gabriel/Documents/paymentelys/node_modules/ethereumjs-util/dist.browser/signature.js","resolved":"/Users/gabriel/Documents/paymentelys/node_modules/ethereumjs-util/dist.browser/types.js"},{"name":"buffer","parent":"/Users/gabriel/Documents/paymentelys/node_modules/ethereumjs-util/dist.browser/signature.js","resolved":"/Users/gabriel/Documents/paymentelys/node_modules/node-libs-browser/node_modules/buffer/index.js"}],"generated":{"js":"var Buffer = require(\"buffer\").Buffer;\nvar e=require(\"buffer\").Buffer,r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.hashPersonalMessage=exports.isValidSignature=exports.fromRpcSig=exports.toCompactSig=exports.toRpcSig=exports.ecrecover=exports.ecsign=void 0;var t=require(\"ethereum-cryptography/secp256k1\"),f=r(require(\"bn.js\")),n=require(\"./bytes\"),u=require(\"./hash\"),o=require(\"./helpers\"),i=require(\"./types\");function s(r,f,n){var u=t.ecdsaSign(r,f),o=u.signature,s=u.recid,a=e.from(o.slice(0,32)),c=e.from(o.slice(32,64));if(!n||\"number\"==typeof n){if(n&&!Number.isSafeInteger(n))throw new Error(\"The provided number is greater than MAX_SAFE_INTEGER (please use an alternative input type)\");return{r:a,s:c,v:n?s+(2*n+35):s+27}}return{r:a,s:c,v:i.toType(n,i.TypeOutput.BN).muln(2).addn(35).addn(s).toArrayLike(e)}}function a(e,r){var t=i.toType(e,i.TypeOutput.BN);if(!r)return t.subn(27);var f=i.toType(r,i.TypeOutput.BN);return t.sub(f.muln(2).addn(35))}function c(e){var r=new f.default(e);return r.eqn(0)||r.eqn(1)}exports.ecsign=s,exports.ecrecover=function(r,f,u,o,i){var s=e.concat([n.setLengthLeft(u,32),n.setLengthLeft(o,32)],64),p=a(f,i);if(!c(p))throw new Error(\"Invalid signature v value\");var l=t.ecdsaRecover(s,p.toNumber(),r);return e.from(t.publicKeyConvert(l,!1).slice(1))},exports.toRpcSig=function(r,t,f,u){if(!c(a(r,u)))throw new Error(\"Invalid signature v value\");return n.bufferToHex(e.concat([n.setLengthLeft(t,32),n.setLengthLeft(f,32),n.toBuffer(r)]))},exports.toCompactSig=function(r,t,f,u){if(!c(a(r,u)))throw new Error(\"Invalid signature v value\");var o=i.toType(r,i.TypeOutput.Number),s=f;return(o>28&&o%2==1||1===o||28===o)&&((s=e.from(f))[0]|=128),n.bufferToHex(e.concat([n.setLengthLeft(t,32),n.setLengthLeft(s,32)]))},exports.fromRpcSig=function(e){var r,t,f,u=n.toBuffer(e);if(u.length>=65)r=u.slice(0,32),t=u.slice(32,64),f=n.bufferToInt(u.slice(64));else{if(64!==u.length)throw new Error(\"Invalid signature length\");r=u.slice(0,32),t=u.slice(32,64),f=n.bufferToInt(u.slice(32,33))>>7,t[0]&=127}return f<27&&(f+=27),{v:f,r:r,s:t}},exports.isValidSignature=function(e,r,t,n,u){void 0===n&&(n=!0);var o=new f.default(\"7fffffffffffffffffffffffffffffff5d576e7357a4501ddfe92f46681b20a0\",16),i=new f.default(\"fffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141\",16);if(32!==r.length||32!==t.length)return!1;if(!c(a(e,u)))return!1;var s=new f.default(r),p=new f.default(t);return!(s.isZero()||s.gt(i)||p.isZero()||p.gt(i))&&(!n||1!==p.cmp(o))},exports.hashPersonalMessage=function(r){o.assertIsBuffer(r);var t=e.from(\"\u0019Ethereum Signed Message:\\n\"+r.length.toString(),\"utf-8\");return u.keccak(e.concat([t,r]))};"},"sourceMaps":null,"error":null,"hash":"b5f2d35ef4ed243400d16aeecf199814","cacheData":{"env":{}}}