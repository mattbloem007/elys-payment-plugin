{"id":"i4sU","dependencies":[{"name":"/Users/gabriel/Documents/paymentelys/package.json","includedInParent":true,"mtime":1631701303199},{"name":"react","loc":{"line":1,"column":33},"parent":"/Users/gabriel/Documents/paymentelys/src/pages/main.js","resolved":"/Users/gabriel/Documents/paymentelys/node_modules/react/index.js"},{"name":"web3","loc":{"line":2,"column":17},"parent":"/Users/gabriel/Documents/paymentelys/src/pages/main.js","resolved":"/Users/gabriel/Documents/paymentelys/node_modules/web3/lib/index.js"},{"name":"../components/paymentButton","loc":{"line":3,"column":26},"parent":"/Users/gabriel/Documents/paymentelys/src/pages/main.js","resolved":"/Users/gabriel/Documents/paymentelys/src/components/paymentButton.js"},{"name":"../components/form","loc":{"line":4,"column":23},"parent":"/Users/gabriel/Documents/paymentelys/src/pages/main.js","resolved":"/Users/gabriel/Documents/paymentelys/src/components/form.js"},{"name":"../lib/elysPrice","loc":{"line":5,"column":22},"parent":"/Users/gabriel/Documents/paymentelys/src/pages/main.js","resolved":"/Users/gabriel/Documents/paymentelys/src/lib/elysPrice.js"},{"name":"../crypto/uniswapV2PairABI.js","loc":{"line":6,"column":16},"parent":"/Users/gabriel/Documents/paymentelys/src/pages/main.js","resolved":"/Users/gabriel/Documents/paymentelys/src/crypto/uniswapV2PairABI.js"},{"name":"../crypto/contractAddress","loc":{"line":7,"column":28},"parent":"/Users/gabriel/Documents/paymentelys/src/pages/main.js","resolved":"/Users/gabriel/Documents/paymentelys/src/crypto/contractAddress.js"},{"name":"@metamask/detect-provider","loc":{"line":9,"column":35},"parent":"/Users/gabriel/Documents/paymentelys/src/pages/main.js","resolved":"/Users/gabriel/Documents/paymentelys/node_modules/@metamask/detect-provider/dist/index.js"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.default=void 0;var e=u(require(\"react\")),t=c(require(\"web3\")),n=c(require(\"../components/paymentButton\")),a=c(require(\"../components/form\")),r=c(require(\"../lib/elysPrice\")),s=c(require(\"../crypto/uniswapV2PairABI.js\")),i=c(require(\"../crypto/contractAddress\")),o=c(require(\"@metamask/detect-provider\"));function c(e){return e&&e.__esModule?e:{default:e}}function l(e){if(\"function\"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function u(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||\"object\"!=typeof e&&\"function\"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if(\"default\"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var i=r?Object.getOwnPropertyDescriptor(e,s):null;i&&(i.get||i.set)?Object.defineProperty(a,s,i):a[s]=e[s]}return a.default=e,n&&n.set(e,a),a}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class f extends e.Component{constructor(...s){super(...s),d(this,\"state\",{loading:!0,hasMetamask:!1,elysPrice:{usd:0,ftm:0,loaded:!1},isConnected:!1}),d(this,\"checkMetamask\",async()=>{return!!(await(0,o.default)())&&window.ethereum.isMetaMask}),d(this,\"componentDidMount\",async()=>{let e=await this.checkMetamask();if(e){if(window.web3=new t.default(window.ethereum),!window.ethereum.isConnected)return console.log(e),void this.setState({loading:!1,hasMetamask:!0,isConnected:!1});this.setState({loading:!1,hasMetamask:!0,isConnected:!1})}else this.setState({loading:!1});let n=await this.getPrice();this.setState({elysPrice:n})}),d(this,\"connect\",async()=>{console.log(\"inside connect\");try{let t=await window.ethereum.request({method:\"eth_requestAccounts\"}),n=t.length>0&&window.ethereum.isConnected;console.log(\"inside try connect\",n,t),n&&this.setState({isConnected:!0})}catch(e){console.log(e)}}),d(this,\"getPrice\",async()=>{let e=await r.default.get();if(0===e.usd||0===e.ftm){let t=()=>new Promise(e=>{let t=setInterval(async()=>{let n=await r.default.get();0!==n.usd&&0!==n.ftm&&(clearInterval(t),e(n))},1e3)});e=await t()}return e}),d(this,\"pay\",async()=>{}),d(this,\"render\",()=>{let t=null,{domElement:r}=this.props;return console.log(\"is Connected: \",this.state.isConnected),t=this.state.hasMetamask&&!this.state.isConnected?e.default.createElement(n.default,{connect:this.connect,isConnected:this.state.isConnected}):this.state.hasMetamask?e.default.createElement(n.default,{connect:this.connect,isConnected:this.state.isConnected}):e.default.createElement(\"div\",null,\"no metamask\"),e.default.createElement(\"div\",null,e.default.createElement(\"h3\",{style:{color:\"#ed6f1b\"}},\"Title of Product: \"),e.default.createElement(\"p\",{style:{color:\"#ed6f1b\"}},\" ELYS (Price): \"),e.default.createElement(a.default,null))})}}var h=f;exports.default=h;"},"sourceMaps":null,"error":null,"hash":"f9bdadca0a149f5db7008de82563b2ea","cacheData":{"env":{}}}