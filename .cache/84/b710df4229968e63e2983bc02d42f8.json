{"id":"i4sU","dependencies":[{"name":"/Users/gabriel/Documents/paymentelys/package.json","includedInParent":true,"mtime":1629880755799},{"name":"react","loc":{"line":1,"column":33},"parent":"/Users/gabriel/Documents/paymentelys/src/pages/main.js","resolved":"/Users/gabriel/Documents/paymentelys/node_modules/react/index.js"},{"name":"web3","loc":{"line":2,"column":17},"parent":"/Users/gabriel/Documents/paymentelys/src/pages/main.js","resolved":"/Users/gabriel/Documents/paymentelys/node_modules/web3/lib/index.js"},{"name":"../components/paymentButton","loc":{"line":3,"column":26},"parent":"/Users/gabriel/Documents/paymentelys/src/pages/main.js","resolved":"/Users/gabriel/Documents/paymentelys/src/components/paymentButton.js"},{"name":"@metamask/detect-provider","loc":{"line":5,"column":35},"parent":"/Users/gabriel/Documents/paymentelys/src/pages/main.js","resolved":"/Users/gabriel/Documents/paymentelys/node_modules/@metamask/detect-provider/dist/index.js"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.default=void 0;var e=a(require(\"react\")),t=o(require(\"web3\")),n=o(require(\"../components/paymentButton\")),r=o(require(\"@metamask/detect-provider\"));function o(e){return e&&e.__esModule?e:{default:e}}function u(e){if(\"function\"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}function a(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||\"object\"!=typeof e&&\"function\"!=typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(\"default\"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var c=o?Object.getOwnPropertyDescriptor(e,a):null;c&&(c.get||c.set)?Object.defineProperty(r,a,c):r[a]=e[a]}return r.default=e,n&&n.set(e,r),r}function c(e){return(c=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e})(e)}function i(e,t,n,r,o,u,a){try{var c=e[u](a),i=c.value}catch(f){return void n(f)}c.done?t(i):Promise.resolve(i).then(r,o)}function f(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var u=e.apply(t,n);function a(e){i(u,r,o,a,c,\"next\",e)}function c(e){i(u,r,o,a,c,\"throw\",e)}a(void 0)})}}function s(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function l(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function d(e){var t=b();return function(){var n,r=h(e);if(t){var o=h(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return m(this,n)}}function m(e,t){if(t&&(\"object\"===c(t)||\"function\"==typeof t))return t;if(void 0!==t)throw new TypeError(\"Derived constructors may only return object or undefined\");return y(e)}function y(e){if(void 0===e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return e}function b(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function w(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var v=function(o){l(a,e.Component);var u=d(a);function a(){var o;s(this,a);for(var c=arguments.length,i=new Array(c),l=0;l<c;l++)i[l]=arguments[l];return w(y(o=u.call.apply(u,[this].concat(i))),\"state\",{loading:!0,hasMetamask:!1,isConnected:!1}),w(y(o),\"checkMetamask\",f(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,r.default)();case 2:if(!e.sent){e.next=5;break}return e.abrupt(\"return\",window.ethereum.isMetaMask);case 5:return e.abrupt(\"return\",!1);case 6:case\"end\":return e.stop()}},e)}))),w(y(o),\"componentDidMount\",f(regeneratorRuntime.mark(function e(){var n,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.checkMetamask();case 2:if(!e.sent){e.next=15;break}if(window.web3=new t.default(window.ethereum),window.ethereum.isConnected){e.next=8;break}return o.setState({loading:!1,hasMetamask:!0,isConnected:!1}),e.abrupt(\"return\");case 8:return e.next=10,window.web3.eth.getAccounts();case 10:n=e.sent,r=n.length>0,o.setState({loading:!1,hasMetamask:!0,isConnected:r}),e.next=16;break;case 15:o.setState({loading:!1});case 16:case\"end\":return e.stop()}},e)}))),w(y(o),\"connect\",f(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,window.ethereum.request({method:\"eth_requestAccounts\"});case 3:t=e.sent,t.length>0&&window.ethereum.isConnected&&o.setState({isConnected:!0}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case\"end\":return e.stop()}},e,null,[[0,8]])}))),w(y(o),\"render\",function(){var t=null,r=o.props.domElement,u=r.getAttribute(\"product-title\"),a=r.getAttribute(\"product-amount\");return t=o.state.hasMetamask&&!o.state.isConnected?e.default.createElement(n.default,{connect:o.connect}):o.state.hasMetamask?e.default.createElement(n.default,{connect:o.connect}):e.default.createElement(\"div\",null,\"no metamask\"),e.default.createElement(\"div\",null,e.default.createElement(\"h3\",{style:{color:\"#ed6f1b\"}},\"Title of Product: \",u),e.default.createElement(\"p\",{style:{color:\"#ed6f1b\"}},\" ELYS (Price): \",a),t)}),o}return a}(),g=v;exports.default=g;"},"sourceMaps":null,"error":null,"hash":"41e254a72ff3222030446b0fd2929868","cacheData":{"env":{}}}