{"id":"hMO1","dependencies":[{"name":"/Users/gabriel/Documents/paymentelys/package.json","includedInParent":true,"mtime":1631654689386},{"name":"/Users/gabriel/Documents/paymentelys/node_modules/@ethereumjs/tx/package.json","includedInParent":true,"mtime":1629877548001},{"name":"ethereumjs-util","loc":{"line":43,"column":32},"parent":"/Users/gabriel/Documents/paymentelys/node_modules/@ethereumjs/tx/dist.browser/eip2930Transaction.js","resolved":"/Users/gabriel/Documents/paymentelys/node_modules/ethereumjs-util/dist.browser/index.js"},{"name":"./baseTransaction","loc":{"line":44,"column":32},"parent":"/Users/gabriel/Documents/paymentelys/node_modules/@ethereumjs/tx/dist.browser/eip2930Transaction.js","resolved":"/Users/gabriel/Documents/paymentelys/node_modules/@ethereumjs/tx/dist.browser/baseTransaction.js"},{"name":"./types","loc":{"line":45,"column":22},"parent":"/Users/gabriel/Documents/paymentelys/node_modules/@ethereumjs/tx/dist.browser/eip2930Transaction.js","resolved":"/Users/gabriel/Documents/paymentelys/node_modules/@ethereumjs/tx/dist.browser/types.js"},{"name":"./util","loc":{"line":46,"column":21},"parent":"/Users/gabriel/Documents/paymentelys/node_modules/@ethereumjs/tx/dist.browser/eip2930Transaction.js","resolved":"/Users/gabriel/Documents/paymentelys/node_modules/@ethereumjs/tx/dist.browser/util.js"},{"name":"buffer","parent":"/Users/gabriel/Documents/paymentelys/node_modules/@ethereumjs/tx/dist.browser/eip2930Transaction.js","resolved":"/Users/gabriel/Documents/paymentelys/node_modules/node-libs-browser/node_modules/buffer/index.js"}],"generated":{"js":"var Buffer = require(\"buffer\").Buffer;\nvar e=require(\"buffer\").Buffer,t=this&&this.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function i(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(i.prototype=r.prototype,new i)}}(),r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++)for(var n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)},i=this&&this.__read||function(e,t){var r=\"function\"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var i,n,o=r.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(i=o.next()).done;)s.push(i.value)}catch(a){n={error:a}}finally{try{i&&!i.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return s};Object.defineProperty(exports,\"__esModule\",{value:!0});var n=require(\"ethereumjs-util\"),o=require(\"./baseTransaction\"),s=require(\"./types\"),a=require(\"./util\"),c=1,d=e.from(c.toString(16).padStart(2,\"0\"),\"hex\"),u=function(o){function u(e,t){var i,d;void 0===t&&(t={});var u=o.call(this,r(r({},e),{type:c}))||this;u.DEFAULT_HARDFORK=\"berlin\";var h=e.chainId,f=e.accessList,l=e.gasPrice;if(u.common=u._getCommon(t.common,h),u.chainId=u.common.chainIdBN(),!u.common.isActivatedEIP(2930))throw new Error(\"EIP-2930 not enabled on Common\");u.activeCapabilities=u.activeCapabilities.concat([2718,2930]);var v=a.AccessLists.getAccessListData(null!=f?f:[]);if(u.accessList=v.accessList,u.AccessListJSON=v.AccessListJSON,a.AccessLists.verifyAccessList(u.accessList),u.gasPrice=new n.BN(n.toBuffer(\"\"===l?\"0x\":l)),u._validateCannotExceedMaxInteger({gasPrice:u.gasPrice}),u.v&&!u.v.eqn(0)&&!u.v.eqn(1))throw new Error(\"The y-parity of the transaction should either be 0 or 1\");if(u.common.gteHardfork(\"homestead\")&&(null===(i=u.s)||void 0===i?void 0:i.gt(s.N_DIV_2)))throw new Error(\"Invalid Signature: s-values greater than secp256k1n/2 are considered invalid\");return(null===(d=null==t?void 0:t.freeze)||void 0===d||d)&&Object.freeze(u),u}return t(u,o),Object.defineProperty(u.prototype,\"senderR\",{get:function(){return this.r},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,\"senderS\",{get:function(){return this.s},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,\"yParity\",{get:function(){return this.v},enumerable:!1,configurable:!0}),u.fromTxData=function(e,t){return void 0===t&&(t={}),new u(e,t)},u.fromSerializedTx=function(e,t){if(void 0===t&&(t={}),!e.slice(0,1).equals(d))throw new Error(\"Invalid serialized tx input: not an EIP-2930 transaction (wrong tx type, expected: \"+c+\", received: \"+e.slice(0,1).toString(\"hex\"));var r=n.rlp.decode(e.slice(1));if(!Array.isArray(r))throw new Error(\"Invalid serialized tx input: must be array\");return u.fromValuesArray(r,t)},u.fromRlpSerializedTx=function(e,t){return void 0===t&&(t={}),u.fromSerializedTx(e,t)},u.fromValuesArray=function(e,t){if(void 0===t&&(t={}),8!==e.length&&11!==e.length)throw new Error(\"Invalid EIP-2930 transaction. Only expecting 8 values (for unsigned tx) or 11 values (for signed tx).\");var r=i(e,11),o=r[0],s=r[1],a=r[2],c=r[3],d=r[4],h=r[5],f=r[6],l=r[7],v=r[8],p=r[9],g=r[10];return new u({chainId:new n.BN(o),nonce:s,gasPrice:a,gasLimit:c,to:d,value:h,data:f,accessList:null!=l?l:[],v:void 0!==v?new n.BN(v):void 0,r:p,s:g},t)},u.prototype.getDataFee=function(){var e=o.prototype.getDataFee.call(this);return e.iaddn(a.AccessLists.getDataFeeEIP2930(this.accessList,this.common)),e},u.prototype.getUpfrontCost=function(){return this.gasLimit.mul(this.gasPrice).add(this.value)},u.prototype.raw=function(){return[n.bnToUnpaddedBuffer(this.chainId),n.bnToUnpaddedBuffer(this.nonce),n.bnToUnpaddedBuffer(this.gasPrice),n.bnToUnpaddedBuffer(this.gasLimit),void 0!==this.to?this.to.buf:e.from([]),n.bnToUnpaddedBuffer(this.value),this.data,this.accessList,void 0!==this.v?n.bnToUnpaddedBuffer(this.v):e.from([]),void 0!==this.r?n.bnToUnpaddedBuffer(this.r):e.from([]),void 0!==this.s?n.bnToUnpaddedBuffer(this.s):e.from([])]},u.prototype.serialize=function(){var t=this.raw();return e.concat([d,n.rlp.encode(t)])},u.prototype.getMessageToSign=function(t){void 0===t&&(t=!0);var r=this.raw().slice(0,8),i=e.concat([d,n.rlp.encode(r)]);return t?n.keccak256(i):i},u.prototype.hash=function(){if(!this.isSigned())throw new Error(\"Cannot call hash method if transaction is not signed\");return n.keccak256(this.serialize())},u.prototype.getMessageToVerifySignature=function(){return this.getMessageToSign()},u.prototype.getSenderPublicKey=function(){var e;if(!this.isSigned())throw new Error(\"Cannot call this method if transaction is not signed\");var t=this.getMessageToVerifySignature();if(this.common.gteHardfork(\"homestead\")&&(null===(e=this.s)||void 0===e?void 0:e.gt(s.N_DIV_2)))throw new Error(\"Invalid Signature: s-values greater than secp256k1n/2 are considered invalid\");var r=this.yParity,i=this.r,o=this.s;try{return n.ecrecover(t,r.addn(27),n.bnToUnpaddedBuffer(i),n.bnToUnpaddedBuffer(o))}catch(a){throw new Error(\"Invalid Signature\")}},u.prototype._processSignature=function(e,t,r){var i={common:this.common};return u.fromTxData({chainId:this.chainId,nonce:this.nonce,gasPrice:this.gasPrice,gasLimit:this.gasLimit,to:this.to,value:this.value,data:this.data,accessList:this.accessList,v:new n.BN(e-27),r:new n.BN(t),s:new n.BN(r)},i)},u.prototype.toJSON=function(){var e=a.AccessLists.getAccessListJSON(this.accessList);return{chainId:n.bnToHex(this.chainId),nonce:n.bnToHex(this.nonce),gasPrice:n.bnToHex(this.gasPrice),gasLimit:n.bnToHex(this.gasLimit),to:void 0!==this.to?this.to.toString():void 0,value:n.bnToHex(this.value),data:\"0x\"+this.data.toString(\"hex\"),accessList:e,v:void 0!==this.v?n.bnToHex(this.v):void 0,r:void 0!==this.r?n.bnToHex(this.r):void 0,s:void 0!==this.s?n.bnToHex(this.s):void 0}},u}(o.BaseTransaction);exports.default=u;"},"sourceMaps":null,"error":null,"hash":"bd808068995647b4038a09b37527145e","cacheData":{"env":{}}}